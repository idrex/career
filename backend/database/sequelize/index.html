<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="/logo.svg" />
    <link rel="stylesheet" href="/umi.css" />
    <script>
      window.routerBase = "/";
    </script>
    <script>
      //! umi version: 3.2.14
    </script>
    <title>Sequelize</title>
  </head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;/logo.svg&#x27;)" href="/">Drex</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><a href="/guide">指南</a><a href="/fontend">前端</a><a aria-current="page" class="active" href="/backend">后端</a><a href="/devops">运维</a><a href="/blog">博客</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/idrex/career">GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;/logo.svg&#x27;)" href="/"></a><h1>Drex</h1><p></p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a href="/guide">指南</a></li><li><a href="/fontend">前端</a></li><li><a aria-current="page" class="active" href="/backend">后端</a></li><li><a href="/devops">运维</a></li><li><a href="/blog">博客</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/idrex/career">GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><ul class="__dumi-default-menu-list"><li><a href="/backend">后端体系图</a></li><li><a href="/backend/network">网络基础</a><ul><li><a href="/backend/network/api"><span>接口选型</span></a></li><li><a href="/backend/network/network"><span>网络协议</span></a></li></ul></li><li><a href="/backend/system">Web服务器</a><ul><li><a href="/backend/system/nginx"><span>Nginx</span></a></li></ul></li><li><a aria-current="page" class="active" href="/backend/database">数据库</a><ul><li><a href="/backend/database/postgre-sql"><span>PostgreSQL</span></a></li><li><a href="/backend/database/my-sql"><span>MySQL</span></a></li><li><a href="/backend/database/table-store"><span>TableStore</span></a></li><li><a aria-current="page" class="active" href="/backend/database/sequelize"><span>Sequelize</span></a></li><li><a href="/backend/database/redis"><span>Redis</span></a></li></ul></li><li><a href="/backend/node">Node</a><ul><li><a href="/backend/node/basic"><span>Node 基础</span></a></li><li><a href="/backend/node/evenloop"><span>Node 事件循环</span></a></li><li><a href="/backend/node/yarn&amp;npm&amp;cnpm"><span>yarn、npm、cnpm 对比分析</span></a></li></ul></li><li><a href="/backend/test">测试</a><ul><li><a href="/backend/test/utils"><span>测试工具</span></a></li></ul></li></ul></div></div><ul class="__dumi-default-layout-toc" role="slug-list"><li title="安装" data-depth="2" class=""><a href="/backend/database/sequelize#安装"><span>安装</span></a></li><li title="配置" data-depth="2" class=""><a href="/backend/database/sequelize#配置"><span>配置</span></a></li><li title="数据类型" data-depth="2" class=""><a href="/backend/database/sequelize#数据类型"><span>数据类型</span></a></li><li title="查询接口" data-depth="2" class=""><a href="/backend/database/sequelize#查询接口"><span>查询接口</span></a></li><li title="领域模型" data-depth="2" class=""><a href="/backend/database/sequelize#领域模型"><span>领域模型</span></a></li><li title="迁移" data-depth="2" class=""><a href="/backend/database/sequelize#迁移"><span>迁移</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><p><img src="https://sequelize.org/master/manual/asset/logo-small.png" alt="Sequelize"/></p><p>Sequelize 是一个基于 promise 的 Node.js ORM, 目前支持 Postgres, MySQL, SQLite 和 Microsoft SQL Server. 它具有强大的事务支持, 关联关系, 预读和延迟加载,读取复制等功能.</p><h2 id="安装"><a aria-hidden="true" href="#安装"><span class="icon icon-link"></span></a>安装</h2><div class="__dumi-default-code-block"><pre class="prism-code language-bash"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="# 通过 npm 安装
$ npm install --save sequelize

# 选择对应的安装数据库驱动程序:
$ npm install --save pg pg-hstore # PostgreSQL
$ npm install --save mysql2 # MySQL
$ npm install --save mariadb # MariaDB
$ npm install --save sqlite3 # SQLite
$ npm install --save tedious # Microsoft SQL Server
" data-status="copy"></button><div class="token-line"><span class="token comment"># 通过 npm 安装</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">$ </span><span class="token function">npm</span><span class="token plain"> </span><span class="token function">install</span><span class="token plain"> --save sequelize</span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment"># 选择对应的安装数据库驱动程序:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">$ </span><span class="token function">npm</span><span class="token plain"> </span><span class="token function">install</span><span class="token plain"> --save pg pg-hstore </span><span class="token comment"># PostgreSQL</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">$ </span><span class="token function">npm</span><span class="token plain"> </span><span class="token function">install</span><span class="token plain"> --save mysql2 </span><span class="token comment"># MySQL</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">$ </span><span class="token function">npm</span><span class="token plain"> </span><span class="token function">install</span><span class="token plain"> --save mariadb </span><span class="token comment"># MariaDB</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">$ </span><span class="token function">npm</span><span class="token plain"> </span><span class="token function">install</span><span class="token plain"> --save sqlite3 </span><span class="token comment"># SQLite</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">$ </span><span class="token function">npm</span><span class="token plain"> </span><span class="token function">install</span><span class="token plain"> --save tedious </span><span class="token comment"># Microsoft SQL Server</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="配置"><a aria-hidden="true" href="#配置"><span class="icon icon-link"></span></a>配置</h2><h2 id="数据类型"><a aria-hidden="true" href="#数据类型"><span class="icon icon-link"></span></a>数据类型</h2><ul><li>所有类型</li></ul><div class="__dumi-default-code-block"><pre class="prism-code language-bash"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="Sequelize.STRING                      // VARCHAR(255)
Sequelize.STRING(1234)                // VARCHAR(1234)
Sequelize.STRING.BINARY               // VARCHAR BINARY
Sequelize.TEXT                        // TEXT
Sequelize.TEXT(&#x27;tiny&#x27;)                // TINYTEXT
Sequelize.CITEXT                      // CITEXT      PostgreSQL and SQLite only.

Sequelize.INTEGER                     // INTEGER
Sequelize.BIGINT                      // BIGINT
Sequelize.BIGINT(11)                  // BIGINT(11)

Sequelize.FLOAT                       // FLOAT
Sequelize.FLOAT(11)                   // FLOAT(11)
Sequelize.FLOAT(11, 10)               // FLOAT(11,10)

Sequelize.REAL                        // REAL        PostgreSQL only.
Sequelize.REAL(11)                    // REAL(11)    PostgreSQL only.
Sequelize.REAL(11, 12)                // REAL(11,12) PostgreSQL only.

Sequelize.DOUBLE                      // DOUBLE
Sequelize.DOUBLE(11)                  // DOUBLE(11)
Sequelize.DOUBLE(11, 10)              // DOUBLE(11,10)

Sequelize.DECIMAL                     // DECIMAL
Sequelize.DECIMAL(10, 2)              // DECIMAL(10,2)

Sequelize.DATE                        // DATETIME for mysql / sqlite, TIMESTAMP WITH TIME ZONE for postgres
Sequelize.DATE(6)                     // DATETIME(6) for mysql 5.6.4+. Fractional seconds support with up to 6 digits of precision
Sequelize.DATEONLY                    // DATE without time.
Sequelize.BOOLEAN                     // TINYINT(1)

Sequelize.ENUM(&#x27;value 1&#x27;, &#x27;value 2&#x27;)  // An ENUM with allowed values &#x27;value 1&#x27; and &#x27;value 2&#x27;
Sequelize.ARRAY(Sequelize.TEXT)       // Defines an array. PostgreSQL only.
Sequelize.ARRAY(Sequelize.ENUM)       // Defines an array of ENUM. PostgreSQL only.

Sequelize.JSON                        // JSON column. PostgreSQL, SQLite and MySQL only.
Sequelize.JSONB                       // JSONB column. PostgreSQL only.

Sequelize.BLOB                        // BLOB (bytea for PostgreSQL)
Sequelize.BLOB(&#x27;tiny&#x27;)                // TINYBLOB (bytea for PostgreSQL. Other options are medium and long)

Sequelize.UUID                        // UUID datatype for PostgreSQL and SQLite, CHAR(36) BINARY for MySQL (use defaultValue: Sequelize.UUIDV1 or Sequelize.UUIDV4 to make sequelize generate the ids automatically)

Sequelize.CIDR                        // CIDR datatype for PostgreSQL
Sequelize.INET                        // INET datatype for PostgreSQL
Sequelize.MACADDR                     // MACADDR datatype for PostgreSQL

Sequelize.RANGE(Sequelize.INTEGER)    // Defines int4range range. PostgreSQL only.
Sequelize.RANGE(Sequelize.BIGINT)     // Defined int8range range. PostgreSQL only.
Sequelize.RANGE(Sequelize.DATE)       // Defines tstzrange range. PostgreSQL only.
Sequelize.RANGE(Sequelize.DATEONLY)   // Defines daterange range. PostgreSQL only.
Sequelize.RANGE(Sequelize.DECIMAL)    // Defines numrange range. PostgreSQL only.

Sequelize.ARRAY(Sequelize.RANGE(Sequelize.DATE)) // Defines array of tstzrange ranges. PostgreSQL only.

Sequelize.GEOMETRY                    // Spatial column.  PostgreSQL (with PostGIS) or MySQL only.
Sequelize.GEOMETRY(&#x27;POINT&#x27;)           // Spatial column with geometry type. PostgreSQL (with PostGIS) or MySQL only.
Sequelize.GEOMETRY(&#x27;POINT&#x27;, 4326)     // Spatial column with geometry type and SRID.  PostgreSQL (with PostGIS) or MySQL only.
" data-status="copy"></button><div class="token-line"><span class="token plain">Sequelize.STRING                      // VARCHAR</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">Sequelize.STRING</span><span class="token punctuation">(</span><span class="token number">1234</span><span class="token punctuation">)</span><span class="token plain">                // VARCHAR</span><span class="token punctuation">(</span><span class="token number">1234</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">Sequelize.STRING.BINARY               // VARCHAR BINARY</span></div><div class="token-line"><span class="token plain">Sequelize.TEXT                        // TEXT</span></div><div class="token-line"><span class="token plain">Sequelize.TEXT</span><span class="token punctuation">(</span><span class="token string">&#x27;tiny&#x27;</span><span class="token punctuation">)</span><span class="token plain">                // TINYTEXT</span></div><div class="token-line"><span class="token plain">Sequelize.CITEXT                      // CITEXT      PostgreSQL and SQLite only.</span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">Sequelize.INTEGER                     // INTEGER</span></div><div class="token-line"><span class="token plain">Sequelize.BIGINT                      // BIGINT</span></div><div class="token-line"><span class="token plain">Sequelize.BIGINT</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token plain">                  // BIGINT</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">Sequelize.FLOAT                       // FLOAT</span></div><div class="token-line"><span class="token plain">Sequelize.FLOAT</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token plain">                   // FLOAT</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">Sequelize.FLOAT</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token plain">, </span><span class="token number">10</span><span class="token punctuation">)</span><span class="token plain">               // FLOAT</span><span class="token punctuation">(</span><span class="token number">11,10</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">Sequelize.REAL                        // REAL        PostgreSQL only.</span></div><div class="token-line"><span class="token plain">Sequelize.REAL</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token plain">                    // REAL</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token plain">    PostgreSQL only.</span></div><div class="token-line"><span class="token plain">Sequelize.REAL</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token plain">, </span><span class="token number">12</span><span class="token punctuation">)</span><span class="token plain">                // REAL</span><span class="token punctuation">(</span><span class="token number">11,12</span><span class="token punctuation">)</span><span class="token plain"> PostgreSQL only.</span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">Sequelize.DOUBLE                      // DOUBLE</span></div><div class="token-line"><span class="token plain">Sequelize.DOUBLE</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token plain">                  // DOUBLE</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">Sequelize.DOUBLE</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token plain">, </span><span class="token number">10</span><span class="token punctuation">)</span><span class="token plain">              // DOUBLE</span><span class="token punctuation">(</span><span class="token number">11,10</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">Sequelize.DECIMAL                     // DECIMAL</span></div><div class="token-line"><span class="token plain">Sequelize.DECIMAL</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token plain">, </span><span class="token number">2</span><span class="token punctuation">)</span><span class="token plain">              // DECIMAL</span><span class="token punctuation">(</span><span class="token number">10,2</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">Sequelize.DATE                        // DATETIME </span><span class="token keyword">for</span><span class="token plain"> mysql / sqlite, TIMESTAMP WITH TIME ZONE </span><span class="token keyword">for</span><span class="token plain"> postgres</span></div><div class="token-line"><span class="token plain">Sequelize.DATE</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token plain">                     // DATETIME</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword">for</span><span class="token plain"> mysql </span><span class="token number">5.6</span><span class="token plain">.4+. Fractional seconds support with up to </span><span class="token number">6</span><span class="token plain"> digits of precision</span></div><div class="token-line"><span class="token plain">Sequelize.DATEONLY                    // DATE without time.</span></div><div class="token-line"><span class="token plain">Sequelize.BOOLEAN                     // TINYINT</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">Sequelize.ENUM</span><span class="token punctuation">(</span><span class="token string">&#x27;value 1&#x27;</span><span class="token plain">, </span><span class="token string">&#x27;value 2&#x27;</span><span class="token punctuation">)</span><span class="token plain">  // An ENUM with allowed values </span><span class="token string">&#x27;value 1&#x27;</span><span class="token plain"> and </span><span class="token string">&#x27;value 2&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">Sequelize.ARRAY</span><span class="token punctuation">(</span><span class="token plain">Sequelize.TEXT</span><span class="token punctuation">)</span><span class="token plain">       // Defines an array. PostgreSQL only.</span></div><div class="token-line"><span class="token plain">Sequelize.ARRAY</span><span class="token punctuation">(</span><span class="token plain">Sequelize.ENUM</span><span class="token punctuation">)</span><span class="token plain">       // Defines an array of ENUM. PostgreSQL only.</span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">Sequelize.JSON                        // JSON column. PostgreSQL, SQLite and MySQL only.</span></div><div class="token-line"><span class="token plain">Sequelize.JSONB                       // JSONB column. PostgreSQL only.</span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">Sequelize.BLOB                        // BLOB </span><span class="token punctuation">(</span><span class="token plain">bytea </span><span class="token keyword">for</span><span class="token plain"> PostgreSQL</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">Sequelize.BLOB</span><span class="token punctuation">(</span><span class="token string">&#x27;tiny&#x27;</span><span class="token punctuation">)</span><span class="token plain">                // TINYBLOB </span><span class="token punctuation">(</span><span class="token plain">bytea </span><span class="token keyword">for</span><span class="token plain"> PostgreSQL. Other options are medium and long</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">Sequelize.UUID                        // UUID datatype </span><span class="token keyword">for</span><span class="token plain"> PostgreSQL and SQLite, CHAR</span><span class="token punctuation">(</span><span class="token number">36</span><span class="token punctuation">)</span><span class="token plain"> BINARY </span><span class="token keyword">for</span><span class="token plain"> MySQL </span><span class="token punctuation">(</span><span class="token plain">use defaultValue: Sequelize.UUIDV1 or Sequelize.UUIDV4 to </span><span class="token function">make</span><span class="token plain"> sequelize generate the ids automatically</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">Sequelize.CIDR                        // CIDR datatype </span><span class="token keyword">for</span><span class="token plain"> PostgreSQL</span></div><div class="token-line"><span class="token plain">Sequelize.INET                        // INET datatype </span><span class="token keyword">for</span><span class="token plain"> PostgreSQL</span></div><div class="token-line"><span class="token plain">Sequelize.MACADDR                     // MACADDR datatype </span><span class="token keyword">for</span><span class="token plain"> PostgreSQL</span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">Sequelize.RANGE</span><span class="token punctuation">(</span><span class="token plain">Sequelize.INTEGER</span><span class="token punctuation">)</span><span class="token plain">    // Defines int4range range. PostgreSQL only.</span></div><div class="token-line"><span class="token plain">Sequelize.RANGE</span><span class="token punctuation">(</span><span class="token plain">Sequelize.BIGINT</span><span class="token punctuation">)</span><span class="token plain">     // Defined int8range range. PostgreSQL only.</span></div><div class="token-line"><span class="token plain">Sequelize.RANGE</span><span class="token punctuation">(</span><span class="token plain">Sequelize.DATE</span><span class="token punctuation">)</span><span class="token plain">       // Defines tstzrange range. PostgreSQL only.</span></div><div class="token-line"><span class="token plain">Sequelize.RANGE</span><span class="token punctuation">(</span><span class="token plain">Sequelize.DATEONLY</span><span class="token punctuation">)</span><span class="token plain">   // Defines daterange range. PostgreSQL only.</span></div><div class="token-line"><span class="token plain">Sequelize.RANGE</span><span class="token punctuation">(</span><span class="token plain">Sequelize.DECIMAL</span><span class="token punctuation">)</span><span class="token plain">    // Defines numrange range. PostgreSQL only.</span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">Sequelize.ARRAY</span><span class="token punctuation">(</span><span class="token plain">Sequelize.RANGE</span><span class="token punctuation">(</span><span class="token plain">Sequelize.DATE</span><span class="token punctuation">))</span><span class="token plain"> // Defines array of tstzrange ranges. PostgreSQL only.</span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">Sequelize.GEOMETRY                    // Spatial column.  PostgreSQL </span><span class="token punctuation">(</span><span class="token plain">with PostGIS</span><span class="token punctuation">)</span><span class="token plain"> or MySQL only.</span></div><div class="token-line"><span class="token plain">Sequelize.GEOMETRY</span><span class="token punctuation">(</span><span class="token string">&#x27;POINT&#x27;</span><span class="token punctuation">)</span><span class="token plain">           // Spatial </span><span class="token function">column</span><span class="token plain"> with geometry type. PostgreSQL </span><span class="token punctuation">(</span><span class="token plain">with PostGIS</span><span class="token punctuation">)</span><span class="token plain"> or MySQL only.</span></div><div class="token-line"><span class="token plain">Sequelize.GEOMETRY</span><span class="token punctuation">(</span><span class="token string">&#x27;POINT&#x27;</span><span class="token plain">, </span><span class="token number">4326</span><span class="token punctuation">)</span><span class="token plain">     // Spatial </span><span class="token function">column</span><span class="token plain"> with geometry </span><span class="token builtin class-name">type</span><span class="token plain"> and SRID.  PostgreSQL </span><span class="token punctuation">(</span><span class="token plain">with PostGIS</span><span class="token punctuation">)</span><span class="token plain"> or MySQL only.</span></div><div class="token-line"><span class="token plain"></span></div></pre></div><ul><li>常用类型</li></ul><div class="__dumi-default-code-block"><pre class="prism-code language-bash"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="INTEGER(4)            # 4字节int类型，排序使用
STRING(80)            # 80字节varchat，文本名称
STRING                # 255字节varchat，描述，简介
TEXT                  # text文本格式，详情Html
FLOAT(11, 2)          # float小数点2位
DECIMAL               # 十进制整数
DECIMAL(10, 2)        # 十进制保留两位小数，价格
DATE                  # 时间类型2019-09-23T17:00:00.000Z，时间
DATEONLY              # 时间类型2019-09-23
BOOLEAN               # boolean类型true or false，显示与否
ENUM(&#x27;1&#x27;, &#x27;2&#x27;)        # 枚举类型
JSON                  # json格式数据
GEOMETRY              # 地理几何对象信息
GEOMETRY(&#x27;POINT&#x27;)     # 地理点信息
" data-status="copy"></button><div class="token-line"><span class="token plain">INTEGER</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token plain">            </span><span class="token comment"># 4字节int类型，排序使用</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">STRING</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token plain">            </span><span class="token comment"># 80字节varchat，文本名称</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">STRING                </span><span class="token comment"># 255字节varchat，描述，简介</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">TEXT                  </span><span class="token comment"># text文本格式，详情Html</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">FLOAT</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token plain">, </span><span class="token number">2</span><span class="token punctuation">)</span><span class="token plain">          </span><span class="token comment"># float小数点2位</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">DECIMAL               </span><span class="token comment"># 十进制整数</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">DECIMAL</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token plain">, </span><span class="token number">2</span><span class="token punctuation">)</span><span class="token plain">        </span><span class="token comment"># 十进制保留两位小数，价格</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">DATE                  </span><span class="token comment"># 时间类型2019-09-23T17:00:00.000Z，时间</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">DATEONLY              </span><span class="token comment"># 时间类型2019-09-23</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">BOOLEAN               </span><span class="token comment"># boolean类型true or false，显示与否</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">ENUM</span><span class="token punctuation">(</span><span class="token string">&#x27;1&#x27;</span><span class="token plain">, </span><span class="token string">&#x27;2&#x27;</span><span class="token punctuation">)</span><span class="token plain">        </span><span class="token comment"># 枚举类型</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">JSON                  </span><span class="token comment"># json格式数据</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">GEOMETRY              </span><span class="token comment"># 地理几何对象信息</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">GEOMETRY</span><span class="token punctuation">(</span><span class="token string">&#x27;POINT&#x27;</span><span class="token punctuation">)</span><span class="token plain">     </span><span class="token comment"># 地理点信息</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><ul><li>属性设置</li></ul><div class="__dumi-default-code-block"><pre class="prism-code language-bash"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="primaryKey: true,               # 主键设置
autoIncrement: true             # 自增整数
allowNull: false,               # 是否为空
defaultValue: Sequelize.NOW     # 默认值(当前时间)
unique: true                    # 唯一约束
references: {
    model: &#x27;Bar&#x27;,# 这是引用另一个模型
    key: &#x27;id&#x27;,# 这是引用模型的列名称
}                               # 外健约束
comment: &#x27;这是一个包含注释的列名&#x27;
" data-status="copy"></button><div class="token-line"><span class="token plain">primaryKey: true,               </span><span class="token comment"># 主键设置</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">autoIncrement: </span><span class="token boolean">true</span><span class="token plain">             </span><span class="token comment"># 自增整数</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">allowNull: false,               </span><span class="token comment"># 是否为空</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">defaultValue: Sequelize.NOW     </span><span class="token comment"># 默认值(当前时间)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">unique: </span><span class="token boolean">true</span><span class="token plain">                    </span><span class="token comment"># 唯一约束</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">references: </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    model: </span><span class="token string">&#x27;Bar&#x27;</span><span class="token plain">,</span><span class="token comment"># 这是引用另一个模型</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    key: </span><span class="token string">&#x27;id&#x27;</span><span class="token plain">,</span><span class="token comment"># 这是引用模型的列名称</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain">                               </span><span class="token comment"># 外健约束</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">comment: </span><span class="token string">&#x27;这是一个包含注释的列名&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="查询接口"><a aria-hidden="true" href="#查询接口"><span class="icon icon-link"></span></a>查询接口</h2><ul><li>表操作： <a href="https://sequelize.org/master/class/lib/query-interface.js~QueryInterface.html" target="_blank" rel="noopener noreferrer">https://sequelize.org/master/class/lib/query-interface.js~QueryInterface.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul><div class="__dumi-default-code-block"><pre class="prism-code language-bash"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="createDatabase              # 建立数据库（数据库：字符串，选项：对象）

createTable                 # 创建具有给定属性集的表
namedTable                  # 重命名表格
dropTable                   # 从数据库中删除表

addColumn                   # 向表添加新列
namedColumn                 # 重命名列
changeColumn                # 更改列定义
removeColumn                # 从表中删除列

addIndex                    # 向列添加索引
removeIndex                 # 从表中删除现有索引
" data-status="copy"></button><div class="token-line"><span class="token plain">createDatabase              </span><span class="token comment"># 建立数据库（数据库：字符串，选项：对象）</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">createTable                 </span><span class="token comment"># 创建具有给定属性集的表</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">namedTable                  </span><span class="token comment"># 重命名表格</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">dropTable                   </span><span class="token comment"># 从数据库中删除表</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">addColumn                   </span><span class="token comment"># 向表添加新列</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">namedColumn                 </span><span class="token comment"># 重命名列</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">changeColumn                </span><span class="token comment"># 更改列定义</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">removeColumn                </span><span class="token comment"># 从表中删除列</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">addIndex                    </span><span class="token comment"># 向列添加索引</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">removeIndex                 </span><span class="token comment"># 从表中删除现有索引</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><ul><li>数据操作</li></ul><div class="__dumi-default-code-block"><pre class="prism-code language-bash"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="bulkInsert                  # 将多个记录插入表中
bulkUpdate                  # 更新一个表的多个记录
bulkDelete                  # 从表中删除多个记录
" data-status="copy"></button><div class="token-line"><span class="token plain">bulkInsert                  </span><span class="token comment"># 将多个记录插入表中</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">bulkUpdate                  </span><span class="token comment"># 更新一个表的多个记录</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">bulkDelete                  </span><span class="token comment"># 从表中删除多个记录</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="领域模型"><a aria-hidden="true" href="#领域模型"><span class="icon icon-link"></span></a>领域模型</h2><h2 id="迁移"><a aria-hidden="true" href="#迁移"><span class="icon icon-link"></span></a>迁移</h2></div><div class="__dumi-default-layout-footer-meta"><span data-updated-text="Last Update: ">8/8/2020, 3:23:29 AM</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="/umi.js"></script>
  </body>
</html>
