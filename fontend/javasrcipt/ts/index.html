<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="/logo.svg" />
    <link rel="stylesheet" href="/umi.css" />
    <script>
      window.routerBase = "/";
    </script>
    <script>
      //! umi version: 3.2.20
    </script>
    <title>TypeScript</title>
  </head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;/logo.svg&#x27;)" href="/">Drex</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><a href="/guide">指南</a><a aria-current="page" class="active" href="/fontend">前端</a><a href="/backend">后端</a><a href="/devops">运维</a><a href="/blog">博客</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/idrex/career">GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;/logo.svg&#x27;)" href="/"></a><h1>Drex</h1><p></p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a href="/guide">指南</a></li><li><a aria-current="page" class="active" href="/fontend">前端</a></li><li><a href="/backend">后端</a></li><li><a href="/devops">运维</a></li><li><a href="/blog">博客</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/idrex/career">GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><ul class="__dumi-default-menu-list"><li><a href="/fontend">前端体系图</a></li><li><a href="/fontend/browser">浏览器</a><ul><li><a href="/fontend/browser/basic"><span>基础知识</span></a></li><li><a href="/fontend/browser/model"><span>浏览器模型</span></a></li><li><a href="/fontend/browser/optimization"><span>性能优化</span></a></li><li><a href="/fontend/browser/request"><span>网络请求</span></a></li></ul></li><li><a href="/fontend/html">Html</a><ul><li><a href="/fontend/html/basic"><span>基础知识</span></a></li></ul></li><li><a href="/fontend/css">CSS</a><ul><li><a href="/fontend/css/basic"><span>基础知识</span></a></li><li><a href="/fontend/css/less"><span>Less</span></a></li></ul></li><li><a aria-current="page" class="active" href="/fontend/javasrcipt">Javasrcipt</a><ul><li><a href="/fontend/javasrcipt/basic"><span>基础中的基础</span></a></li><li><a href="/fontend/javasrcipt/application"><span>基础应用</span></a></li><li><a href="/fontend/javasrcipt/esnext"><span>ES6 &amp; ES Next</span></a></li><li><a aria-current="page" class="active" href="/fontend/javasrcipt/ts"><span>TypeScript</span></a></li><li><a href="/fontend/javasrcipt/issues"><span>JS 相关方法实现</span></a></li><li><a href="/fontend/javasrcipt/optimization"><span>代码优化技巧</span></a></li></ul></li><li><a href="/fontend/construct">构建工具</a><ul><li><a href="/fontend/construct/webpack"><span>Webpack</span></a></li></ul></li><li><a href="/fontend/frame">JS 框架</a><ul><li><a href="/fontend/frame/react"><span>React</span></a></li><li><a href="/fontend/frame/redux"><span>Redux</span></a></li><li><a href="/fontend/frame/vue"><span>Vue</span></a></li></ul></li><li><a href="/fontend/mobile">移动&amp;桌面应用</a><ul><li><a href="/fontend/mobile/certificate"><span>证书说明</span></a></li><li><a href="/fontend/mobile/hybrid"><span>Hybrid APP</span></a></li><li><a href="/fontend/mobile/react-native"><span>React Native</span></a></li></ul></li><li><a href="/fontend/setup">工程体系</a><ul><li><a href="/fontend/setup/pattern"><span>体系格局</span></a></li><li><a href="/fontend/setup/engineering"><span>前端工程化</span></a></li></ul></li><li><a href="/fontend/package">Package</a><ul><li><a href="/fontend/package/module"><span>模块化标准</span></a></li><li><a href="/fontend/package/npm"><span>Npm</span></a></li><li><a href="/fontend/package/yarn"><span>Yarn</span></a></li></ul></li><li><a href="/fontend/security">Security</a><ul><li><a href="/fontend/security/monitor"><span>监控体系</span></a></li><li><a href="/fontend/security/web"><span>Web 安全</span></a></li></ul></li></ul></div></div><ul class="__dumi-default-layout-toc" role="slug-list"><li title="TypeScript 思维导图" data-depth="2" class=""><a href="/fontend/javasrcipt/ts#typescript-思维导图"><span>TypeScript 思维导图</span></a></li><li title="TypeScript 是什么" data-depth="2" class=""><a href="/fontend/javasrcipt/ts#typescript-是什么"><span>TypeScript 是什么</span></a></li><li title="TypeScript 与 JavaScript 的区别" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#typescript-与-javascript-的区别"><span>TypeScript 与 JavaScript 的区别</span></a></li><li title="获取 TypeScript" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#获取-typescript"><span>获取 TypeScript</span></a></li><li title="TypeScript 基础类型" data-depth="2" class=""><a href="/fontend/javasrcipt/ts#typescript-基础类型"><span>TypeScript 基础类型</span></a></li><li title="Boolean 类型" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#boolean-类型"><span>Boolean 类型</span></a></li><li title="Number 类型" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#number-类型"><span>Number 类型</span></a></li><li title="String 类型" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#string-类型"><span>String 类型</span></a></li><li title="Array 类型" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#array-类型"><span>Array 类型</span></a></li><li title="Enum 类型" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#enum-类型"><span>Enum 类型</span></a></li><li title="Any 类型" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#any-类型"><span>Any 类型</span></a></li><li title="Unknown 类型" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#unknown-类型"><span>Unknown 类型</span></a></li><li title="Tuple 类型" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#tuple-类型"><span>Tuple 类型</span></a></li><li title="Void 类型" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#void-类型"><span>Void 类型</span></a></li><li title="Null 和 Undefined 类型" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#null-和-undefined-类型"><span>Null 和 Undefined 类型</span></a></li><li title="Never 类型" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#never-类型"><span>Never 类型</span></a></li><li title="TypeScript 断言" data-depth="2" class=""><a href="/fontend/javasrcipt/ts#typescript-断言"><span>TypeScript 断言</span></a></li><li title="“尖括号” 语法" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#尖括号-语法"><span>“尖括号” 语法</span></a></li><li title="as 语法" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#as-语法"><span>as 语法</span></a></li><li title="类型守卫" data-depth="2" class=""><a href="/fontend/javasrcipt/ts#类型守卫"><span>类型守卫</span></a></li><li title="in 关键字" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#in-关键字"><span>in 关键字</span></a></li><li title="typeof 关键字" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#typeof-关键字"><span>typeof 关键字</span></a></li><li title="instanceof 关键字" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#instanceof-关键字"><span>instanceof 关键字</span></a></li><li title="自定义类型保护的类型谓词" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#自定义类型保护的类型谓词"><span>自定义类型保护的类型谓词</span></a></li><li title="联合类型和类型别名" data-depth="2" class=""><a href="/fontend/javasrcipt/ts#联合类型和类型别名"><span>联合类型和类型别名</span></a></li><li title="联合类型" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#联合类型"><span>联合类型</span></a></li><li title="可辨识联合" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#可辨识联合"><span>可辨识联合</span></a></li><li title="交叉类型" data-depth="2" class=""><a href="/fontend/javasrcipt/ts#交叉类型"><span>交叉类型</span></a></li><li title="TypeScript 函数" data-depth="2" class=""><a href="/fontend/javasrcipt/ts#typescript-函数"><span>TypeScript 函数</span></a></li><li title="TypeScript 函数与 JavaScript 函数的区别" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#typescript-函数与-javascript-函数的区别"><span>TypeScript 函数与 JavaScript 函数的区别</span></a></li><li title="箭头函数" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#箭头函数"><span>箭头函数</span></a></li><li title="参数类型和返回类型" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#参数类型和返回类型"><span>参数类型和返回类型</span></a></li><li title="函数类型" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#函数类型"><span>函数类型</span></a></li><li title="可选参数及默认参数" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#可选参数及默认参数"><span>可选参数及默认参数</span></a></li><li title="剩余参数" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#剩余参数"><span>剩余参数</span></a></li><li title="函数重载" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#函数重载"><span>函数重载</span></a></li><li title="TypeScript 数组" data-depth="2" class=""><a href="/fontend/javasrcipt/ts#typescript-数组"><span>TypeScript 数组</span></a></li><li title="数组解构" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#数组解构"><span>数组解构</span></a></li><li title="数组展开运算符" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#数组展开运算符"><span>数组展开运算符</span></a></li><li title="数组遍历" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#数组遍历"><span>数组遍历</span></a></li><li title="TypeScript 对象" data-depth="2" class=""><a href="/fontend/javasrcipt/ts#typescript-对象"><span>TypeScript 对象</span></a></li><li title="对象解构" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#对象解构"><span>对象解构</span></a></li><li title="对象展开运算符" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#对象展开运算符"><span>对象展开运算符</span></a></li><li title="TypeScript 接口" data-depth="2" class=""><a href="/fontend/javasrcipt/ts#typescript-接口"><span>TypeScript 接口</span></a></li><li title="对象的形状" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#对象的形状"><span>对象的形状</span></a></li><li title="可选 | 只读属性" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#可选--只读属性"><span>可选 | 只读属性</span></a></li><li title="TypeScript 类" data-depth="2" class=""><a href="/fontend/javasrcipt/ts#typescript-类"><span>TypeScript 类</span></a></li><li title="类的属性与方法" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#类的属性与方法"><span>类的属性与方法</span></a></li><li title="访问器" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#访问器"><span>访问器</span></a></li><li title="类的继承" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#类的继承"><span>类的继承</span></a></li><li title="ECMAScript 私有字段" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#ecmascript-私有字段"><span>ECMAScript 私有字段</span></a></li><li title="TypeScript 泛型" data-depth="2" class=""><a href="/fontend/javasrcipt/ts#typescript-泛型"><span>TypeScript 泛型</span></a></li><li title="泛型接口" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#泛型接口"><span>泛型接口</span></a></li><li title="泛型类" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#泛型类"><span>泛型类</span></a></li><li title="泛型变量" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#泛型变量"><span>泛型变量</span></a></li><li title="泛型工具类型" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#泛型工具类型"><span>泛型工具类型</span></a></li><li title="TypeScript 装饰器" data-depth="2" class=""><a href="/fontend/javasrcipt/ts#typescript-装饰器"><span>TypeScript 装饰器</span></a></li><li title="装饰器是什么" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#装饰器是什么"><span>装饰器是什么</span></a></li><li title="装饰器的分类" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#装饰器的分类"><span>装饰器的分类</span></a></li><li title="类装饰器" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#类装饰器"><span>类装饰器</span></a></li><li title="属性装饰器" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#属性装饰器"><span>属性装饰器</span></a></li><li title="方法装饰器" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#方法装饰器"><span>方法装饰器</span></a></li><li title="参数装饰器" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#参数装饰器"><span>参数装饰器</span></a></li><li title="编译上下文" data-depth="2" class=""><a href="/fontend/javasrcipt/ts#编译上下文"><span>编译上下文</span></a></li><li title="tsconfig.json 的作用" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#tsconfigjson-的作用"><span>tsconfig.json 的作用</span></a></li><li title="tsconfig.json 重要字段" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#tsconfigjson-重要字段"><span>tsconfig.json 重要字段</span></a></li><li title="compilerOptions 选项" data-depth="3" class=""><a href="/fontend/javasrcipt/ts#compileroptions-选项"><span>compilerOptions 选项</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h2 id="typescript-思维导图"><a aria-hidden="true" href="#typescript-思维导图"><span class="icon icon-link"></span></a>TypeScript 思维导图</h2><p><img src="/static/ts.d7ddcbd8.png"/></p><h2 id="typescript-是什么"><a aria-hidden="true" href="#typescript-是什么"><span class="icon icon-link"></span></a>TypeScript 是什么</h2><p><img src="/static/tsofes.c4c3aeea.png"/></p><p>TypeScript 是一种由微软开发的自由和开源的编程语言。它是 JavaScript 的一个超集，而且本质上向这个语言添加了可选的静态类型和基于类的面向对象编程。</p><p>TypeScript 提供最新的和不断发展的 JavaScript 特性，包括那些来自 2015 年的 ECMAScript 和未来的提案中的特性，比如异步功能和 Decorators，以帮助建立健壮的组件。下图显示了 TypeScript 与 ES5、ES2015 和 ES2016 之间的关系：</p><h3 id="typescript-与-javascript-的区别"><a aria-hidden="true" href="#typescript-与-javascript-的区别"><span class="icon icon-link"></span></a>TypeScript 与 JavaScript 的区别</h3><table><thead><tr><th align="center">TypeScript</th><th align="center">JavaScript</th></tr></thead><tbody><tr><td align="center">JavaScript 的超集用于解决大型项目的代码复杂性</td><td align="center">一种脚本语言，用于创建动态网页。</td></tr><tr><td align="center">可以在编译期间发现并纠正错误</td><td align="center">作为一种解释型语言，只能在运行时发现错误</td></tr><tr><td align="center">强类型，支持静态和动态类型</td><td align="center">弱类型，没有静态类型选项</td></tr><tr><td align="center">最终被编译成 JavaScript 代码，使浏览器可以理解</td><td align="center">可以直接在浏览器中使用</td></tr><tr><td align="center">支持模块、泛型和接口</td><td align="center">不支持模块，泛型或接口</td></tr><tr><td align="center">支持 ES3，ES4，ES5 和 ES6 等</td><td align="center">不支持编译其他 ES3，ES4，ES5 或 ES6 功能</td></tr><tr><td align="center">社区的支持仍在增长，而且还不是很大</td><td align="center">大量的社区支持以及大量文档和解决问题的支持</td></tr></tbody></table><h3 id="获取-typescript"><a aria-hidden="true" href="#获取-typescript"><span class="icon icon-link"></span></a>获取 TypeScript</h3><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// 安装
$ npm install -g typescript
$ yarn global add typescript
// 编译 TypeScript 文件
$ tsc helloworld.ts
" data-status="copy"></button><div class="token-line"><span class="token comment">// 安装</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">$ npm install </span><span class="token operator">-</span><span class="token plain">g typescript</span></div><div class="token-line"><span class="token plain">$ yarn global add typescript</span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 编译 TypeScript 文件</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">$ tsc helloworld</span><span class="token punctuation">.</span><span class="token property-access">ts</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="typescript-基础类型"><a aria-hidden="true" href="#typescript-基础类型"><span class="icon icon-link"></span></a>TypeScript 基础类型</h2><h3 id="boolean-类型"><a aria-hidden="true" href="#boolean-类型"><span class="icon icon-link"></span></a>Boolean 类型</h3><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let isDone: boolean = false;
// ES5：var isDone = false;
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> isDone</span><span class="token punctuation">:</span><span class="token plain"> boolean </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// ES5：var isDone = false;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="number-类型"><a aria-hidden="true" href="#number-类型"><span class="icon icon-link"></span></a>Number 类型</h3><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let count: number = 10;
// ES5：var count = 10;
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> count</span><span class="token punctuation">:</span><span class="token plain"> number </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">10</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// ES5：var count = 10;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="string-类型"><a aria-hidden="true" href="#string-类型"><span class="icon icon-link"></span></a>String 类型</h3><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let name: string = &quot;Semliker&quot;;
// ES5：var name = &#x27;Semlinker&#x27;;
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> name</span><span class="token punctuation">:</span><span class="token plain"> string </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;Semliker&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// ES5：var name = &#x27;Semlinker&#x27;;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="array-类型"><a aria-hidden="true" href="#array-类型"><span class="icon icon-link"></span></a>Array 类型</h3><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let list: number[] = [1, 2, 3];
// ES5：var list = [1,2,3];

let list: Array&lt;number&gt; = [1, 2, 3]; // Array&lt;number&gt;泛型语法
// ES5：var list = [1,2,3];
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> list</span><span class="token punctuation">:</span><span class="token plain"> number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// ES5：var list = [1,2,3];</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> list</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Array</span><span class="token operator">&lt;</span><span class="token plain">number</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// Array&lt;number&gt;泛型语法</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// ES5：var list = [1,2,3];</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="enum-类型"><a aria-hidden="true" href="#enum-类型"><span class="icon icon-link"></span></a>Enum 类型</h3><p>使用枚举我们可以定义一些带名字的常量。 使用枚举可以清晰地表达意图或创建一组有区别的用例。 TypeScript 支持数字的和基于字符串的枚举。</p><p>1.数字枚举</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="enum Direction {
  NORTH,
  SOUTH,
  EAST,
  WEST,
}

let dir: Direction = Direction.NORTH;
" data-status="copy"></button><div class="token-line"><span class="token keyword">enum</span><span class="token plain"> </span><span class="token maybe-class-name">Direction</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token constant">NORTH</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token constant">SOUTH</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token constant">EAST</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token constant">WEST</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> dir</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token maybe-class-name">Direction</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token maybe-class-name">Direction</span><span class="token punctuation">.</span><span class="token constant">NORTH</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>默认情况下，NORTH 的初始值为 0，其余的成员会从 1 开始自动增长。换句话说，Direction.SOUTH 的值为 1，Direction.EAST 的值为 2，Direction.WEST 的值为 3。上面的枚举示例代码经过编译后会生成以下代码：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="&quot;use strict&quot;;
var Direction;
(function(Direction) {
  Direction[(Direction[&quot;NORTH&quot;] = 0)] = &quot;NORTH&quot;;
  Direction[(Direction[&quot;SOUTH&quot;] = 1)] = &quot;SOUTH&quot;;
  Direction[(Direction[&quot;EAST&quot;] = 2)] = &quot;EAST&quot;;
  Direction[(Direction[&quot;WEST&quot;] = 3)] = &quot;WEST&quot;;
})(Direction || (Direction = {}));
var dir = Direction.NORTH;
" data-status="copy"></button><div class="token-line"><span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token maybe-class-name">Direction</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">Direction</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token maybe-class-name">Direction</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token maybe-class-name">Direction</span><span class="token punctuation">[</span><span class="token string">&quot;NORTH&quot;</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;NORTH&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token maybe-class-name">Direction</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token maybe-class-name">Direction</span><span class="token punctuation">[</span><span class="token string">&quot;SOUTH&quot;</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;SOUTH&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token maybe-class-name">Direction</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token maybe-class-name">Direction</span><span class="token punctuation">[</span><span class="token string">&quot;EAST&quot;</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;EAST&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token maybe-class-name">Direction</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token maybe-class-name">Direction</span><span class="token punctuation">[</span><span class="token string">&quot;WEST&quot;</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;WEST&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token maybe-class-name">Direction</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token maybe-class-name">Direction</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> dir </span><span class="token operator">=</span><span class="token plain"> </span><span class="token maybe-class-name">Direction</span><span class="token punctuation">.</span><span class="token constant">NORTH</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>当然我们也可以设置 NORTH 的初始值，比如：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="enum Direction {
NORTH = 3,
SOUTH,
EAST,
WEST,
}
" data-status="copy"></button><div class="token-line"><span class="token keyword">enum</span><span class="token plain"> </span><span class="token maybe-class-name">Direction</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token constant">NORTH</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token constant">SOUTH</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token constant">EAST</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token constant">WEST</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>2.字符串枚举</p><p>在 TypeScript 2.4 版本，允许我们使用字符串枚举。在一个字符串枚举里，每个成员都必须用字符串字面量，或另外一个字符串枚举成员进行初始化。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="enum Direction {
NORTH = &quot;NORTH&quot;,
SOUTH = &quot;SOUTH&quot;,
EAST = &quot;EAST&quot;,
WEST = &quot;WEST&quot;,
}
" data-status="copy"></button><div class="token-line"><span class="token keyword">enum</span><span class="token plain"> </span><span class="token maybe-class-name">Direction</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token constant">NORTH</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;NORTH&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token constant">SOUTH</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;SOUTH&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token constant">EAST</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;EAST&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token constant">WEST</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;WEST&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>以上代码对于的 ES5 代码如下：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="&quot;use strict&quot;;
var Direction;
(function(Direction) {
  Direction[&quot;NORTH&quot;] = &quot;NORTH&quot;;
  Direction[&quot;SOUTH&quot;] = &quot;SOUTH&quot;;
  Direction[&quot;EAST&quot;] = &quot;EAST&quot;;
  Direction[&quot;WEST&quot;] = &quot;WEST&quot;;
})(Direction || (Direction = {}));
" data-status="copy"></button><div class="token-line"><span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token maybe-class-name">Direction</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">Direction</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token maybe-class-name">Direction</span><span class="token punctuation">[</span><span class="token string">&quot;NORTH&quot;</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;NORTH&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token maybe-class-name">Direction</span><span class="token punctuation">[</span><span class="token string">&quot;SOUTH&quot;</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;SOUTH&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token maybe-class-name">Direction</span><span class="token punctuation">[</span><span class="token string">&quot;EAST&quot;</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;EAST&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token maybe-class-name">Direction</span><span class="token punctuation">[</span><span class="token string">&quot;WEST&quot;</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;WEST&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token maybe-class-name">Direction</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token maybe-class-name">Direction</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>3.异构枚举</p><p>异构枚举的成员值是数字和字符串的混合：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="enum Enum {
A,
B,
C = &quot;C&quot;,
D = &quot;D&quot;,
E = 8,
F,
}
" data-status="copy"></button><div class="token-line"><span class="token keyword">enum</span><span class="token plain"> </span><span class="token maybe-class-name">Enum</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token constant">A</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token constant">B</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token constant">C</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;C&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token constant">D</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;D&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token constant">E</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">8</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token constant">F</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>以上代码对于的 ES5 代码如下：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="&quot;use strict&quot;;
var Enum;
(function(Enum) {
  Enum[(Enum[&quot;A&quot;] = 0)] = &quot;A&quot;;
  Enum[(Enum[&quot;B&quot;] = 1)] = &quot;B&quot;;
  Enum[&quot;C&quot;] = &quot;C&quot;;
  Enum[&quot;D&quot;] = &quot;D&quot;;
  Enum[(Enum[&quot;E&quot;] = 8)] = &quot;E&quot;;
  Enum[(Enum[&quot;F&quot;] = 9)] = &quot;F&quot;;
})(Enum || (Enum = {}));
" data-status="copy"></button><div class="token-line"><span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token maybe-class-name">Enum</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">Enum</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token maybe-class-name">Enum</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token maybe-class-name">Enum</span><span class="token punctuation">[</span><span class="token string">&quot;A&quot;</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;A&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token maybe-class-name">Enum</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token maybe-class-name">Enum</span><span class="token punctuation">[</span><span class="token string">&quot;B&quot;</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;B&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token maybe-class-name">Enum</span><span class="token punctuation">[</span><span class="token string">&quot;C&quot;</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;C&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token maybe-class-name">Enum</span><span class="token punctuation">[</span><span class="token string">&quot;D&quot;</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;D&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token maybe-class-name">Enum</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token maybe-class-name">Enum</span><span class="token punctuation">[</span><span class="token string">&quot;E&quot;</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;E&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token maybe-class-name">Enum</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token maybe-class-name">Enum</span><span class="token punctuation">[</span><span class="token string">&quot;F&quot;</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;F&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token maybe-class-name">Enum</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token maybe-class-name">Enum</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>通过观察上述生成的 ES5 代码，我们可以发现数字枚举相对字符串枚举多了 “反向映射”：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="console.log(Enum.A); //输出：0
console.log(Enum[0]); // 输出：A
" data-status="copy"></button><div class="token-line"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token maybe-class-name">Enum</span><span class="token punctuation">.</span><span class="token constant">A</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">//输出：0</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token maybe-class-name">Enum</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 输出：A</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="any-类型"><a aria-hidden="true" href="#any-类型"><span class="icon icon-link"></span></a>Any 类型</h3><p>在 TypeScript 中，任何类型都可以被归为 any 类型。这让 any 类型成为了类型系统的顶级类型（也被称作全局超级类型）。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let notSure: any = 666;
notSure = &quot;Semlinker&quot;;
notSure = false;
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> notSure</span><span class="token punctuation">:</span><span class="token plain"> any </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">666</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">notSure </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;Semlinker&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">notSure </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>any 类型本质上是类型系统的一个逃逸舱。作为开发者，这给了我们很大的自由：TypeScript 允许我们对 any 类型的值执行任何操作，而无需事先执行任何形式的检查。比如：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let value: any;

value.foo.bar; // OK
value.trim(); // OK
value(); // OK
new value(); // OK
value[0][1]; // OK
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> value</span><span class="token punctuation">:</span><span class="token plain"> any</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">value</span><span class="token punctuation">.</span><span class="token property-access">foo</span><span class="token punctuation">.</span><span class="token property-access">bar</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// OK</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">value</span><span class="token punctuation">.</span><span class="token method function property-access">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// OK</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// OK</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// OK</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">value</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// OK</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>在许多场景下，这太宽松了。使用 any 类型，可以很容易地编写类型正确但在运行时有问题的代码。如果我们使用 any 类型，就无法使用 TypeScript 提供的大量的保护机制。为了解决 any 带来的问题，TypeScript 3.0 引入了 unknown 类型。</p><h3 id="unknown-类型"><a aria-hidden="true" href="#unknown-类型"><span class="icon icon-link"></span></a>Unknown 类型</h3><p>就像所有类型都可以赋值给 any，所有类型也都可以赋值给 unknown。这使得 unknown 成为 TypeScript 类型系统的另一种顶级类型（另一种是 any）。下面我们来看一下 unknown 类型的使用示例：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let value: unknown;

value = true; // OK
value = 42; // OK
value = &quot;Hello World&quot;; // OK
value = []; // OK
value = {}; // OK
value = Math.random; // OK
value = null; // OK
value = undefined; // OK
value = new TypeError(); // OK
value = Symbol(&quot;type&quot;); // OK
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> value</span><span class="token punctuation">:</span><span class="token plain"> unknown</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">value </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// OK</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">value </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">42</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// OK</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">value </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;Hello World&quot;</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// OK</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">value </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// OK</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">value </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// OK</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">value </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token property-access">random</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// OK</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">value </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword null nil">null</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// OK</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">value </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword nil">undefined</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// OK</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">value </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// OK</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">value </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// OK</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>对 value 变量的所有赋值都被认为是类型正确的。但是，当我们尝试将类型为 unknown 的值赋值给其他类型的变量时会发生什么？</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let value: unknown;

let value1: unknown = value; // OK
let value2: any = value; // OK
let value3: boolean = value; // Error
let value4: number = value; // Error
let value5: string = value; // Error
let value6: object = value; // Error
let value7: any[] = value; // Error
let value8: Function = value; // Error
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> value</span><span class="token punctuation">:</span><span class="token plain"> unknown</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> value1</span><span class="token punctuation">:</span><span class="token plain"> unknown </span><span class="token operator">=</span><span class="token plain"> value</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// OK</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> value2</span><span class="token punctuation">:</span><span class="token plain"> any </span><span class="token operator">=</span><span class="token plain"> value</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// OK</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> value3</span><span class="token punctuation">:</span><span class="token plain"> boolean </span><span class="token operator">=</span><span class="token plain"> value</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// Error</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> value4</span><span class="token punctuation">:</span><span class="token plain"> number </span><span class="token operator">=</span><span class="token plain"> value</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// Error</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> value5</span><span class="token punctuation">:</span><span class="token plain"> string </span><span class="token operator">=</span><span class="token plain"> value</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// Error</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> value6</span><span class="token punctuation">:</span><span class="token plain"> object </span><span class="token operator">=</span><span class="token plain"> value</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// Error</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> value7</span><span class="token punctuation">:</span><span class="token plain"> any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> value</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// Error</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> value8</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Function</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> value</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// Error</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>unknown 类型只能被赋值给 any 类型和 unknown 类型本身。直观地说，这是有道理的：只有能够保存任意类型值的容器才能保存 unknown 类型的值。毕竟我们不知道变量 value 中存储了什么类型的值。</p><p>现在让我们看看当我们尝试对类型为 unknown 的值执行操作时会发生什么。以下是我们在之前 any 章节看过的相同操作：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let value: unknown;

value.foo.bar; // Error
value.trim(); // Error
value(); // Error
new value(); // Error
value[0][1]; // Error
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> value</span><span class="token punctuation">:</span><span class="token plain"> unknown</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">value</span><span class="token punctuation">.</span><span class="token property-access">foo</span><span class="token punctuation">.</span><span class="token property-access">bar</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// Error</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">value</span><span class="token punctuation">.</span><span class="token method function property-access">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// Error</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// Error</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// Error</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">value</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// Error</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>将 value 变量类型设置为 unknown 后，这些操作都不再被认为是类型正确的。通过将 any 类型改变为 unknown 类型，我们已将允许所有更改的默认设置，更改为禁止任何更改。</p><h3 id="tuple-类型"><a aria-hidden="true" href="#tuple-类型"><span class="icon icon-link"></span></a>Tuple 类型</h3><p>众所周知，数组一般由同种类型的值组成，但有时我们需要在单个变量中存储不同类型的值，这时候我们就可以使用元组。在 JavaScript 中是没有元组的，元组是 TypeScript 中特有的类型，其工作方式类似于数组。</p><p>元组可用于定义具有有限数量的未命名属性的类型。每个属性都有一个关联的类型。使用元组时，必须提供每个属性的值。为了更直观地理解元组的概念，我们来看一个具体的例子：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let tupleType: [string, boolean];
tupleType = [&quot;Semlinker&quot;, true];
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> tupleType</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">string</span><span class="token punctuation">,</span><span class="token plain"> boolean</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">tupleType </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token string">&quot;Semlinker&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>在上面代码中，我们定义了一个名为 tupleType 的变量，它的类型是一个类型数组 [string, boolean]，然后我们按照正确的类型依次初始化 tupleType 变量。与数组一样，我们可以通过下标来访问元组中的元素：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="console.log(tupleType[0]); // Semlinker
console.log(tupleType[1]); // true
" data-status="copy"></button><div class="token-line"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">tupleType</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// Semlinker</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">tupleType</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>在元组初始化的时候，如果出现类型不匹配的话，比如：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="tupleType = [true, &quot;Semlinker&quot;];
" data-status="copy"></button><div class="token-line"><span class="token plain">tupleType </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&quot;Semlinker&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>此时，TypeScript 编译器会提示以下错误信息：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="[0]: Type &#x27;true&#x27; is not assignable to type &#x27;string&#x27;.
[1]: Type &#x27;string&#x27; is not assignable to type &#x27;boolean&#x27;.
" data-status="copy"></button><div class="token-line"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token maybe-class-name">Type</span><span class="token plain"> </span><span class="token string">&#x27;true&#x27;</span><span class="token plain"> is not assignable to type </span><span class="token string">&#x27;string&#x27;</span><span class="token punctuation">.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token maybe-class-name">Type</span><span class="token plain"> </span><span class="token string">&#x27;string&#x27;</span><span class="token plain"> is not assignable to type </span><span class="token string">&#x27;boolean&#x27;</span><span class="token punctuation">.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>很明显是因为类型不匹配导致的。在元组初始化的时候，我们还必须提供每个属性的值，不然也会出现错误，比如：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="tupleType = [&quot;Semlinker&quot;];
" data-status="copy"></button><div class="token-line"><span class="token plain">tupleType </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token string">&quot;Semlinker&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>此时，TypeScript 编译器会提示以下错误信息：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="Property &#x27;1&#x27; is missing in type &#x27;[string]&#x27; but required in type &#x27;[string, boolean]&#x27;.
" data-status="copy"></button><div class="token-line"><span class="token maybe-class-name">Property</span><span class="token plain"> </span><span class="token string">&#x27;1&#x27;</span><span class="token plain"> is missing </span><span class="token keyword">in</span><span class="token plain"> type </span><span class="token string">&#x27;[string]&#x27;</span><span class="token plain"> but required </span><span class="token keyword">in</span><span class="token plain"> type </span><span class="token string">&#x27;[string, boolean]&#x27;</span><span class="token punctuation">.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="void-类型"><a aria-hidden="true" href="#void-类型"><span class="icon icon-link"></span></a>Void 类型</h3><p>某种程度上来说，void 类型像是与 any 类型相反，它表示没有任何类型。当一个函数没有返回值时，你通常会见到其返回值类型是 void：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// 声明函数返回值为 void
function warnUser(): void {
  console.log(&quot;This is my warning message&quot;);
}
" data-status="copy"></button><div class="token-line"><span class="token comment">// 声明函数返回值为 void</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">warnUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token keyword">void</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;This is my warning message&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>以上代码编译生成的 ES5 代码如下：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="&quot;use strict&quot;;
function warnUser() {
  console.log(&quot;This is my warning message&quot;);
}
" data-status="copy"></button><div class="token-line"><span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">warnUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;This is my warning message&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>需要注意的是，声明一个 void 类型的变量没有什么作用，因为它的值只能为 undefined 或 null：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let unusable: void = undefined;
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> unusable</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token keyword">void</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword nil">undefined</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="null-和-undefined-类型"><a aria-hidden="true" href="#null-和-undefined-类型"><span class="icon icon-link"></span></a>Null 和 Undefined 类型</h3><p>TypeScript 里，undefined 和 null 两者有各自的类型分别为 undefined 和 null。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let u: undefined = undefined;
let n: null = null;
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> u</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token keyword nil">undefined</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword nil">undefined</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> n</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token keyword null nil">null</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword null nil">null</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>默认情况下 null 和 undefined 是所有类型的子类型。 就是说你可以把 null 和 undefined 赋值给 number 类型的变量。然而，如果你指定了--strictNullChecks 标记，null 和 undefined 只能赋值给 void 和它们各自的类型。</p><h3 id="never-类型"><a aria-hidden="true" href="#never-类型"><span class="icon icon-link"></span></a>Never 类型</h3><p>never 类型表示的是那些永不存在的值的类型。 例如，never 类型是那些总是会抛出异常或根本就不会有返回值的函数表达式或箭头函数表达式的返回值类型。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// 返回 never 的函数必须存在无法达到的终点
function error(message: string): never {
  throw new Error(message);
}

function infiniteLoop(): never {
  while (true) {}
}
" data-status="copy"></button><div class="token-line"><span class="token comment">// 返回 never 的函数必须存在无法达到的终点</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">error</span><span class="token punctuation">(</span><span class="token parameter">message</span><span class="token parameter punctuation">:</span><span class="token parameter"> string</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token plain"> never </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">throw</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token plain">message</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">infiniteLoop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token plain"> never </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">while</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>在 TypeScript 中，可以利用 never 类型的特性来实现全面性检查，具体示例如下：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="type Foo = string | number;

function controlFlowAnalysisWithNever(foo: Foo) {
  if (typeof foo === &quot;string&quot;) {
    // 这里 foo 被收窄为 string 类型
  } else if (typeof foo === &quot;number&quot;) {
    // 这里 foo 被收窄为 number 类型
  } else {
    // foo 在这里是 never
    const check: never = foo;
  }
}
" data-status="copy"></button><div class="token-line"><span class="token plain">type </span><span class="token maybe-class-name">Foo</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> string </span><span class="token operator">|</span><span class="token plain"> number</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">controlFlowAnalysisWithNever</span><span class="token punctuation">(</span><span class="token parameter">foo</span><span class="token parameter punctuation">:</span><span class="token parameter"> Foo</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token plain"> foo </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string">&quot;string&quot;</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// 这里 foo 被收窄为 string 类型</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword">else</span><span class="token plain"> </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token plain"> foo </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string">&quot;number&quot;</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// 这里 foo 被收窄为 number 类型</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword">else</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// foo 在这里是 never</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">const</span><span class="token plain"> check</span><span class="token punctuation">:</span><span class="token plain"> never </span><span class="token operator">=</span><span class="token plain"> foo</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>注意在 else 分支里面，我们把收窄为 never 的 foo 赋值给一个显示声明的 never 变量。如果一切逻辑正确，那么这里应该能够编译通过。但是假如后来有一天你的同事修改了 Foo 的类型：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="type Foo = string | number | boolean;
" data-status="copy"></button><div class="token-line"><span class="token plain">type </span><span class="token maybe-class-name">Foo</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> string </span><span class="token operator">|</span><span class="token plain"> number </span><span class="token operator">|</span><span class="token plain"> boolean</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>然而他忘记同时修改 controlFlowAnalysisWithNever 方法中的控制流程，这时候 else 分支的 foo 类型会被收窄为 boolean 类型，导致无法赋值给 never 类型，这时就会产生一个编译错误。通过这个方式，我们可以确保</p><p>controlFlowAnalysisWithNever 方法总是穷尽了 Foo 的所有可能类型。 通过这个示例，我们可以得出一个结论：使用 never 避免出现新增了联合类型没有对应的实现，目的就是写出类型绝对安全的代码。</p><h2 id="typescript-断言"><a aria-hidden="true" href="#typescript-断言"><span class="icon icon-link"></span></a>TypeScript 断言</h2><p>有时候你会遇到这样的情况，你会比 TypeScript 更了解某个值的详细信息。通常这会发生在你清楚地知道一个实体具有比它现有类型更确切的类型。</p><p>通过类型断言这种方式可以告诉编译器，“相信我，我知道自己在干什么”。类型断言好比其他语言里的类型转换，但是不进行特殊的数据检查和解构。它没有运行时的影响，只是在编译阶段起作用。</p><p>类型断言有两种形式：</p><h3 id="尖括号-语法"><a aria-hidden="true" href="#尖括号-语法"><span class="icon icon-link"></span></a>“尖括号” 语法</h3><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let someValue: any = &quot;this is a string&quot;;
let strLength: number = (&lt;string&gt;someValue).length;
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> someValue</span><span class="token punctuation">:</span><span class="token plain"> any </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;this is a string&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> strLength</span><span class="token punctuation">:</span><span class="token plain"> number </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token plain">string</span><span class="token operator">&gt;</span><span class="token plain">someValue</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="as-语法"><a aria-hidden="true" href="#as-语法"><span class="icon icon-link"></span></a>as 语法</h3><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let someValue: any = &quot;this is a string&quot;;
let strLength: number = (someValue as string).length;
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> someValue</span><span class="token punctuation">:</span><span class="token plain"> any </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;this is a string&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> strLength</span><span class="token punctuation">:</span><span class="token plain"> number </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">someValue </span><span class="token keyword module">as</span><span class="token plain"> string</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="类型守卫"><a aria-hidden="true" href="#类型守卫"><span class="icon icon-link"></span></a>类型守卫</h2><p>类型保护是可执行运行时检查的一种表达式，用于确保该类型在一定的范围内。换句话说，类型保护可以保证一个字符串是一个字符串，尽管它的值也可以是一个数值。类型保护与特性检测并不是完全不同，其主要思想是尝试检测属性、方法或原型，以确定如何处理值。目前主要有四种的方式来实现类型保护：</p><h3 id="in-关键字"><a aria-hidden="true" href="#in-关键字"><span class="icon icon-link"></span></a>in 关键字</h3><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="interface Admin {
  name: string;
  privileges: string[];
}

interface Employee {
  name: string;
  startDate: Date;
}

type UnknownEmployee = Employee | Admin;

function printEmployeeInformation(emp: UnknownEmployee) {
  console.log(&quot;Name: &quot; + emp.name);
  if (&quot;privileges&quot; in emp) {
    console.log(&quot;Privileges: &quot; + emp.privileges);
  }
  if (&quot;startDate&quot; in emp) {
    console.log(&quot;Start Date: &quot; + emp.startDate);
  }
}
" data-status="copy"></button><div class="token-line"><span class="token keyword">interface</span><span class="token plain"> </span><span class="token class-name">Admin</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token punctuation">:</span><span class="token plain"> string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  privileges</span><span class="token punctuation">:</span><span class="token plain"> string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">interface</span><span class="token plain"> </span><span class="token class-name">Employee</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token punctuation">:</span><span class="token plain"> string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  startDate</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Date</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">type </span><span class="token maybe-class-name">UnknownEmployee</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token maybe-class-name">Employee</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token maybe-class-name">Admin</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">printEmployeeInformation</span><span class="token punctuation">(</span><span class="token parameter">emp</span><span class="token parameter punctuation">:</span><span class="token parameter"> UnknownEmployee</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;Name: &quot;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> emp</span><span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token string">&quot;privileges&quot;</span><span class="token plain"> </span><span class="token keyword">in</span><span class="token plain"> emp</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;Privileges: &quot;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> emp</span><span class="token punctuation">.</span><span class="token property-access">privileges</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token string">&quot;startDate&quot;</span><span class="token plain"> </span><span class="token keyword">in</span><span class="token plain"> emp</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;Start Date: &quot;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> emp</span><span class="token punctuation">.</span><span class="token property-access">startDate</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="typeof-关键字"><a aria-hidden="true" href="#typeof-关键字"><span class="icon icon-link"></span></a>typeof 关键字</h3><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="function padLeft(value: string, padding: string | number) {
  if (typeof padding === &quot;number&quot;) {
    return Array(padding + 1).join(&quot; &quot;) + value;
  }
  if (typeof padding === &quot;string&quot;) {
    return padding + value;
  }
  throw new Error(`Expected string or number, got &#x27;${padding}&#x27;.`);
}
" data-status="copy"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">padLeft</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token parameter punctuation">:</span><span class="token parameter"> string</span><span class="token parameter punctuation">,</span><span class="token parameter"> padding</span><span class="token parameter punctuation">:</span><span class="token parameter"> string </span><span class="token parameter operator">|</span><span class="token parameter"> number</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token plain"> padding </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string">&quot;number&quot;</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token known-class-name class-name">Array</span><span class="token punctuation">(</span><span class="token plain">padding </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> value</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token plain"> padding </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string">&quot;string&quot;</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">return</span><span class="token plain"> padding </span><span class="token operator">+</span><span class="token plain"> value</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">throw</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token template-string template-punctuation string">`</span><span class="token template-string string">Expected string or number, got &#x27;</span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">padding</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string">&#x27;.</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>typeof 类型保护只支持两种形式：<code>typeof v === &quot;typename&quot;</code> 和 <code>typeof v !== &quot;typename&quot;</code>，&quot;typename&quot; 必须是 &quot;number&quot;， &quot;string&quot;， &quot;boolean&quot; 或 &quot;symbol&quot;。 但是 TypeScript 并不会阻止你与其它字符串比较，语言不会把那些表达式识别为类型保护。</p><h3 id="instanceof-关键字"><a aria-hidden="true" href="#instanceof-关键字"><span class="icon icon-link"></span></a>instanceof 关键字</h3><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="interface Padder {
  getPaddingString(): string;
}

class SpaceRepeatingPadder implements Padder {
  constructor(private numSpaces: number) {}
  getPaddingString() {
    return Array(this.numSpaces + 1).join(&quot; &quot;);
  }
}

class StringPadder implements Padder {
  constructor(private value: string) {}
  getPaddingString() {
    return this.value;
  }
}

let padder: Padder = new SpaceRepeatingPadder(6);

if (padder instanceof SpaceRepeatingPadder) {
  // padder的类型收窄为 &#x27;SpaceRepeatingPadder&#x27;
}
" data-status="copy"></button><div class="token-line"><span class="token keyword">interface</span><span class="token plain"> </span><span class="token class-name">Padder</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">getPaddingString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token plain"> string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">class</span><span class="token plain"> </span><span class="token class-name">SpaceRepeatingPadder</span><span class="token plain"> </span><span class="token keyword">implements</span><span class="token plain"> </span><span class="token class-name">Padder</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter keyword">private</span><span class="token parameter"> numSpaces</span><span class="token parameter punctuation">:</span><span class="token parameter"> number</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">getPaddingString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token known-class-name class-name">Array</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">numSpaces</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">class</span><span class="token plain"> </span><span class="token class-name">StringPadder</span><span class="token plain"> </span><span class="token keyword">implements</span><span class="token plain"> </span><span class="token class-name">Padder</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter keyword">private</span><span class="token parameter"> value</span><span class="token parameter punctuation">:</span><span class="token parameter"> string</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">getPaddingString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> padder</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token maybe-class-name">Padder</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">SpaceRepeatingPadder</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">padder </span><span class="token keyword">instanceof</span><span class="token plain"> </span><span class="token class-name">SpaceRepeatingPadder</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// padder的类型收窄为 &#x27;SpaceRepeatingPadder&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="自定义类型保护的类型谓词"><a aria-hidden="true" href="#自定义类型保护的类型谓词"><span class="icon icon-link"></span></a>自定义类型保护的类型谓词</h3><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="function isNumber(x: any): x is number {
  return typeof x === &quot;number&quot;;
}

function isString(x: any): x is string {
  return typeof x === &quot;string&quot;;
}
" data-status="copy"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">isNumber</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token parameter punctuation">:</span><span class="token parameter"> any</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token plain"> x is number </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token keyword">typeof</span><span class="token plain"> x </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string">&quot;number&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">isString</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token parameter punctuation">:</span><span class="token parameter"> any</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token plain"> x is string </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token keyword">typeof</span><span class="token plain"> x </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string">&quot;string&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="联合类型和类型别名"><a aria-hidden="true" href="#联合类型和类型别名"><span class="icon icon-link"></span></a>联合类型和类型别名</h2><h3 id="联合类型"><a aria-hidden="true" href="#联合类型"><span class="icon icon-link"></span></a>联合类型</h3><p>联合类型通常与 null 或 undefined 一起使用：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="const sayHello = (name: string | undefined) =&gt; {
  /* ... */
};
" data-status="copy"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> </span><span class="token function-variable function">sayHello</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token parameter punctuation">:</span><span class="token parameter"> string </span><span class="token parameter operator">|</span><span class="token parameter"> </span><span class="token parameter keyword nil">undefined</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">/* ... */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>例如，这里 name 的类型是 string | undefined 意味着可以将 string 或 undefined 的值传递给 sayHello 函数。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="sayHello(&quot;Semlinker&quot;);
sayHello(undefined);
" data-status="copy"></button><div class="token-line"><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token string">&quot;Semlinker&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token keyword nil">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>通过这个示例，你可以凭直觉知道类型 A 和类型 B 联合后的类型是同时接受 A 和 B 值的类型。</p><h3 id="可辨识联合"><a aria-hidden="true" href="#可辨识联合"><span class="icon icon-link"></span></a>可辨识联合</h3><p>TypeScript 可辨识联合（Discriminated Unions）类型，也称为代数数据类型或标签联合类型。它包含 3 个要点：可辨识、联合类型和类型守卫。</p><p>这种类型的本质是结合联合类型和字面量类型的一种类型保护方法。如果一个类型是多个类型的联合类型，且多个类型含有一个公共属性，那么就可以利用这个公共属性，来创建不同的类型保护区块。</p><p>1.可辨识</p><p>可辨识要求联合类型中的每个元素都含有一个单例类型属性，比如：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="enum CarTransmission {
  Automatic = 200,
  Manual = 300
}

interface Motorcycle {
  vType: &quot;motorcycle&quot;; // discriminant
  make: number; // year
}

interface Car {
  vType: &quot;car&quot;; // discriminant
  transmission: CarTransmission
}

interface Truck {
  vType: &quot;truck&quot;; // discriminant
  capacity: number; // in tons
}
" data-status="copy"></button><div class="token-line"><span class="token keyword">enum</span><span class="token plain"> </span><span class="token maybe-class-name">CarTransmission</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token maybe-class-name">Automatic</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">200</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token maybe-class-name">Manual</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">300</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">interface</span><span class="token plain"> </span><span class="token class-name">Motorcycle</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  vType</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;motorcycle&quot;</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// discriminant</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  make</span><span class="token punctuation">:</span><span class="token plain"> number</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// year</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">interface</span><span class="token plain"> </span><span class="token class-name">Car</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  vType</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;car&quot;</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// discriminant</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  transmission</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token maybe-class-name">CarTransmission</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">interface</span><span class="token plain"> </span><span class="token class-name">Truck</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  vType</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;truck&quot;</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// discriminant</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  capacity</span><span class="token punctuation">:</span><span class="token plain"> number</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// in tons</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>在上述代码中，我们分别定义了 Motorcycle、 Car 和 Truck 三个接口，在这些接口中都包含一个 vType 属性，该属性被称为可辨识的属性，而其它的属性只跟特性的接口相关。</p><p>2.联合类型</p><p>基于前面定义了三个接口，我们可以创建一个 Vehicle 联合类型：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="type Vehicle = Motorcycle | Car | Truck;
" data-status="copy"></button><div class="token-line"><span class="token plain">type </span><span class="token maybe-class-name">Vehicle</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token maybe-class-name">Motorcycle</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token maybe-class-name">Car</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token maybe-class-name">Truck</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>现在我们就可以开始使用 Vehicle 联合类型，对于 Vehicle 类型的变量，它可以表示不同类型的车辆。</p><p>3.类型守卫</p><p>下面我们来定义一个 evaluatePrice 方法，该方法用于根据车辆的类型、容量和评估因子来计算价格，具体实现如下：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="const EVALUATION_FACTOR = Math.PI;
function evaluatePrice(vehicle: Vehicle) {
  return vehicle.capacity * EVALUATION_FACTOR;
}

const myTruck: Truck = { vType: &quot;truck&quot;, capacity: 9.5 };
evaluatePrice(myTruck);
" data-status="copy"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> </span><span class="token constant">EVALUATION_FACTOR</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">evaluatePrice</span><span class="token punctuation">(</span><span class="token parameter">vehicle</span><span class="token parameter punctuation">:</span><span class="token parameter"> Vehicle</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">return</span><span class="token plain"> vehicle</span><span class="token punctuation">.</span><span class="token property-access">capacity</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token constant">EVALUATION_FACTOR</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> myTruck</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token maybe-class-name">Truck</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> vType</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;truck&quot;</span><span class="token punctuation">,</span><span class="token plain"> capacity</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">9.5</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">evaluatePrice</span><span class="token punctuation">(</span><span class="token plain">myTruck</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>对于以上代码，TypeScript 编译器将会提示以下错误信息：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="Property &#x27;capacity&#x27; does not exist on type &#x27;Vehicle&#x27;.
Property &#x27;capacity&#x27; does not exist on type &#x27;Motorcycle&#x27;.
" data-status="copy"></button><div class="token-line"><span class="token maybe-class-name">Property</span><span class="token plain"> </span><span class="token string">&#x27;capacity&#x27;</span><span class="token plain"> does not exist on type </span><span class="token string">&#x27;Vehicle&#x27;</span><span class="token punctuation">.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token property-access maybe-class-name">Property</span><span class="token plain"> </span><span class="token string">&#x27;capacity&#x27;</span><span class="token plain"> does not exist on type </span><span class="token string">&#x27;Motorcycle&#x27;</span><span class="token punctuation">.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>原因是在 Motorcycle 接口中，并不存在 capacity 属性，而对于 Car 接口来说，它也不存在 capacity 属性。那么，现在我们应该如何解决以上问题呢？这时，我们可以使用类型守卫。下面我们来重构一下前面定义的 evaluatePrice 方法，重构后的代码如下：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="function evaluatePrice(vehicle: Vehicle) {
  switch (vehicle.vType) {
    case &quot;car&quot;:
      return vehicle.transmission * EVALUATION_FACTOR;
    case &quot;truck&quot;:
      return vehicle.capacity * EVALUATION_FACTOR;
    case &quot;motorcycle&quot;:
      return vehicle.make * EVALUATION_FACTOR;
  }
}
" data-status="copy"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">evaluatePrice</span><span class="token punctuation">(</span><span class="token parameter">vehicle</span><span class="token parameter punctuation">:</span><span class="token parameter"> Vehicle</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">switch</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">vehicle</span><span class="token punctuation">.</span><span class="token property-access">vType</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">case</span><span class="token plain"> </span><span class="token string">&quot;car&quot;</span><span class="token punctuation">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword">return</span><span class="token plain"> vehicle</span><span class="token punctuation">.</span><span class="token property-access">transmission</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token constant">EVALUATION_FACTOR</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">case</span><span class="token plain"> </span><span class="token string">&quot;truck&quot;</span><span class="token punctuation">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword">return</span><span class="token plain"> vehicle</span><span class="token punctuation">.</span><span class="token property-access">capacity</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token constant">EVALUATION_FACTOR</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">case</span><span class="token plain"> </span><span class="token string">&quot;motorcycle&quot;</span><span class="token punctuation">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword">return</span><span class="token plain"> vehicle</span><span class="token punctuation">.</span><span class="token property-access">make</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token constant">EVALUATION_FACTOR</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>在以上代码中，我们使用 switch 和 case 运算符来实现类型守卫，从而确保在 evaluatePrice 方法中，我们可以安全地访问 vehicle 对象中的所包含的属性，来正确的计算该车辆类型所对应的价格。</p><p>5.3 类型别名 类型别名用来给一个类型起个新名字。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="type Message = string | string[];

let greet = (message: Message) =&gt; {
  // ...
};
" data-status="copy"></button><div class="token-line"><span class="token plain">type </span><span class="token maybe-class-name">Message</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> string </span><span class="token operator">|</span><span class="token plain"> string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token function-variable function">greet</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">message</span><span class="token parameter punctuation">:</span><span class="token parameter"> Message</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// ...</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="交叉类型"><a aria-hidden="true" href="#交叉类型"><span class="icon icon-link"></span></a>交叉类型</h2><p>TypeScript 交叉类型是将多个类型合并为一个类型。 这让我们可以把现有的多种类型叠加到一起成为一种类型，它包含了所需的所有类型的特性。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="interface IPerson {
  id: string;
  age: number;
}

interface IWorker {
  companyId: string;
}

type IStaff = IPerson &amp; IWorker;

const staff: IStaff = {
  id: &quot;E1006&quot;,
  age: 33,
  companyId: &quot;EFT&quot;,
};

console.dir(staff);
" data-status="copy"></button><div class="token-line"><span class="token keyword">interface</span><span class="token plain"> </span><span class="token class-name">IPerson</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  id</span><span class="token punctuation">:</span><span class="token plain"> string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  age</span><span class="token punctuation">:</span><span class="token plain"> number</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">interface</span><span class="token plain"> </span><span class="token class-name">IWorker</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  companyId</span><span class="token punctuation">:</span><span class="token plain"> string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">type </span><span class="token maybe-class-name">IStaff</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token maybe-class-name">IPerson</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain"> </span><span class="token maybe-class-name">IWorker</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> staff</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token maybe-class-name">IStaff</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  id</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;E1006&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  age</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">33</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  companyId</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;EFT&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">dir</span><span class="token punctuation">(</span><span class="token plain">staff</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>在上面示例中，我们首先为 IPerson 和 IWorker 类型定义了不同的成员，然后通过 &amp; 运算符定义了 IStaff 交叉类型，所以该类型同时拥有 IPerson 和 IWorker 这两种类型的成员。</p><h2 id="typescript-函数"><a aria-hidden="true" href="#typescript-函数"><span class="icon icon-link"></span></a>TypeScript 函数</h2><h3 id="typescript-函数与-javascript-函数的区别"><a aria-hidden="true" href="#typescript-函数与-javascript-函数的区别"><span class="icon icon-link"></span></a>TypeScript 函数与 JavaScript 函数的区别</h3><table><thead><tr><th align="center">TypeScript</th><th align="center">JavaScript</th></tr></thead><tbody><tr><td align="center">含有类型</td><td align="center">无类型</td></tr><tr><td align="center">箭头函数</td><td align="center">箭头函数（ES2015）</td></tr><tr><td align="center">函数类型</td><td align="center">无函数类型</td></tr><tr><td align="center">必填和可选参数</td><td align="center">所有参数都是可选的</td></tr><tr><td align="center">默认参数</td><td align="center">默认参数</td></tr><tr><td align="center">剩余参数</td><td align="center">剩余参数</td></tr><tr><td align="center">函数重载</td><td align="center">无函数重载</td></tr></tbody></table><h3 id="箭头函数"><a aria-hidden="true" href="#箭头函数"><span class="icon icon-link"></span></a>箭头函数</h3><ol><li>常见语法</li></ol><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="myBooks.forEach(() =&gt; console.log(&#x27;reading&#x27;));

myBooks.forEach(title =&gt; console.log(title));

myBooks.forEach((title, idx, arr) =&gt;
  console.log(idx + &#x27;-&#x27; + title);
);

myBooks.forEach((title, idx, arr) =&gt; {
  console.log(idx + &#x27;-&#x27; + title);
});
" data-status="copy"></button><div class="token-line"><span class="token plain">myBooks</span><span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&#x27;reading&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">myBooks</span><span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span><span class="token parameter">title</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">title</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">myBooks</span><span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">title</span><span class="token parameter punctuation">,</span><span class="token parameter"> idx</span><span class="token parameter punctuation">,</span><span class="token parameter"> arr</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">idx </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string">&#x27;-&#x27;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> title</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">myBooks</span><span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">title</span><span class="token parameter punctuation">,</span><span class="token parameter"> idx</span><span class="token parameter punctuation">,</span><span class="token parameter"> arr</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">idx </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string">&#x27;-&#x27;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> title</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><ol start="2"><li>使用示例</li></ol><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// 未使用箭头函数
function Book() {
  let self = this;
  self.publishDate = 2016;
  setInterval(function() {
    console.log(self.publishDate);
  }, 1000);
}
// 使用箭头函数
function Book() {
  this.publishDate = 2016;
  setInterval(() =&gt; {
    console.log(this.publishDate);
  }, 1000);
}
" data-status="copy"></button><div class="token-line"><span class="token comment">// 未使用箭头函数</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function maybe-class-name">Book</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> self </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">this</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  self</span><span class="token punctuation">.</span><span class="token property-access">publishDate</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">2016</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">self</span><span class="token punctuation">.</span><span class="token property-access">publishDate</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 使用箭头函数</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function maybe-class-name">Book</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">publishDate</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">2016</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">publishDate</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="参数类型和返回类型"><a aria-hidden="true" href="#参数类型和返回类型"><span class="icon icon-link"></span></a>参数类型和返回类型</h3><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="function createUserId(name: string, id: number): string {
  return name + id;
}
" data-status="copy"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">createUserId</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token parameter punctuation">:</span><span class="token parameter"> string</span><span class="token parameter punctuation">,</span><span class="token parameter"> id</span><span class="token parameter punctuation">:</span><span class="token parameter"> number</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token plain"> string </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">return</span><span class="token plain"> name </span><span class="token operator">+</span><span class="token plain"> id</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="函数类型"><a aria-hidden="true" href="#函数类型"><span class="icon icon-link"></span></a>函数类型</h3><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let IdGenerator: (chars: string, nums: number) =&gt; string;

function createUserId(name: string, id: number): string {
  return name + id;
}

IdGenerator = createUserId;
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name">IdGenerator</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">chars</span><span class="token parameter punctuation">:</span><span class="token parameter"> string</span><span class="token parameter punctuation">,</span><span class="token parameter"> nums</span><span class="token parameter punctuation">:</span><span class="token parameter"> number</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">createUserId</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token parameter punctuation">:</span><span class="token parameter"> string</span><span class="token parameter punctuation">,</span><span class="token parameter"> id</span><span class="token parameter punctuation">:</span><span class="token parameter"> number</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token plain"> string </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">return</span><span class="token plain"> name </span><span class="token operator">+</span><span class="token plain"> id</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token maybe-class-name">IdGenerator</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> createUserId</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="可选参数及默认参数"><a aria-hidden="true" href="#可选参数及默认参数"><span class="icon icon-link"></span></a>可选参数及默认参数</h3><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// 可选参数
function createUserId(name: string, id: number, age?: number): string {
  return name + id;
}

// 默认参数
function createUserId(
  name: string = &quot;Semlinker&quot;,
  id: number,
  age?: number
): string {
  return name + id;
}
" data-status="copy"></button><div class="token-line"><span class="token comment">// 可选参数</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">createUserId</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token parameter punctuation">:</span><span class="token parameter"> string</span><span class="token parameter punctuation">,</span><span class="token parameter"> id</span><span class="token parameter punctuation">:</span><span class="token parameter"> number</span><span class="token parameter punctuation">,</span><span class="token parameter"> age</span><span class="token parameter operator">?</span><span class="token parameter punctuation">:</span><span class="token parameter"> number</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token plain"> string </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">return</span><span class="token plain"> name </span><span class="token operator">+</span><span class="token plain"> id</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 默认参数</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">createUserId</span><span class="token punctuation">(</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token punctuation">:</span><span class="token plain"> string </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;Semlinker&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  id</span><span class="token punctuation">:</span><span class="token plain"> number</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  age</span><span class="token operator">?</span><span class="token punctuation">:</span><span class="token plain"> number</span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token plain"> string </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">return</span><span class="token plain"> name </span><span class="token operator">+</span><span class="token plain"> id</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>在声明函数时，可以通过 ? 号来定义可选参数，比如 age?: number 这种形式。在实际使用时，需要注意的是可选参数要放在普通参数的后面，不然会导致编译错误。</p><h3 id="剩余参数"><a aria-hidden="true" href="#剩余参数"><span class="icon icon-link"></span></a>剩余参数</h3><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="function push(array, ...items) {
  items.forEach(function(item) {
    array.push(item);
  });
}

let a = [];
push(a, 1, 2, 3);
" data-status="copy"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">push</span><span class="token punctuation">(</span><span class="token parameter">array</span><span class="token parameter punctuation">,</span><span class="token parameter"> </span><span class="token parameter operator">...</span><span class="token parameter">items</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  items</span><span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    array</span><span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token plain">item</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> a </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">push</span><span class="token punctuation">(</span><span class="token plain">a</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="函数重载"><a aria-hidden="true" href="#函数重载"><span class="icon icon-link"></span></a>函数重载</h3><p>函数重载或方法重载是使用相同名称和不同参数数量或类型创建多个方法的一种能力。要解决前面遇到的问题，方法就是为同一个函数提供多个函数类型定义来进行函数重载，编译器会根据这个列表去处理函数的调用。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="function add(a: number, b: number): number;
function add(a: string, b: string): string;
function add(a: string, b: number): string;
function add(a: number, b: string): string;
function add(a: Combinable, b: Combinable) {
  if (typeof a === &quot;string&quot; || typeof b === &quot;string&quot;) {
    return a.toString() + b.toString();
  }
  return a + b;
}
" data-status="copy"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token parameter punctuation">:</span><span class="token parameter"> number</span><span class="token parameter punctuation">,</span><span class="token parameter"> b</span><span class="token parameter punctuation">:</span><span class="token parameter"> number</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token plain"> number</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token parameter punctuation">:</span><span class="token parameter"> string</span><span class="token parameter punctuation">,</span><span class="token parameter"> b</span><span class="token parameter punctuation">:</span><span class="token parameter"> string</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token plain"> string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token parameter punctuation">:</span><span class="token parameter"> string</span><span class="token parameter punctuation">,</span><span class="token parameter"> b</span><span class="token parameter punctuation">:</span><span class="token parameter"> number</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token plain"> string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token parameter punctuation">:</span><span class="token parameter"> number</span><span class="token parameter punctuation">,</span><span class="token parameter"> b</span><span class="token parameter punctuation">:</span><span class="token parameter"> string</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token plain"> string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token parameter punctuation">:</span><span class="token parameter"> Combinable</span><span class="token parameter punctuation">,</span><span class="token parameter"> b</span><span class="token parameter punctuation">:</span><span class="token parameter"> Combinable</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token plain"> a </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string">&quot;string&quot;</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> </span><span class="token keyword">typeof</span><span class="token plain"> b </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string">&quot;string&quot;</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">return</span><span class="token plain"> a</span><span class="token punctuation">.</span><span class="token method function property-access">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> b</span><span class="token punctuation">.</span><span class="token method function property-access">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">return</span><span class="token plain"> a </span><span class="token operator">+</span><span class="token plain"> b</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>在以上代码中，我们为 add 函数提供了多个函数类型定义，从而实现函数的重载。之后，可恶的错误消息又消失了，因为这时 result 变量的类型是 string 类型。在 TypeScript 中除了可以重载普通函数之外，我们还可以重载类中的成员方法。</p><p>方法重载是指在同一个类中方法同名，参数不同（参数类型不同、参数个数不同或参数个数相同时参数的先后顺序不同），调用时根据实参的形式，选择与它匹配的方法执行操作的一种技术。所以类中成员方法满足重载的条件是：在同一个类中，方法名相同且参数列表不同。下面我们来举一个成员方法重载的例子：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="class Calculator {
  add(a: number, b: number): number;
  add(a: string, b: string): string;
  add(a: string, b: number): string;
  add(a: number, b: string): string;
  add(a: Combinable, b: Combinable) {
    if (typeof a === &quot;string&quot; || typeof b === &quot;string&quot;) {
      return a.toString() + b.toString();
    }
    return a + b;
  }
}

const calculator = new Calculator();
const result = calculator.add(&quot;Semlinker&quot;, &quot; Kakuqo&quot;);
" data-status="copy"></button><div class="token-line"><span class="token keyword">class</span><span class="token plain"> </span><span class="token class-name">Calculator</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">add</span><span class="token punctuation">(</span><span class="token plain">a</span><span class="token punctuation">:</span><span class="token plain"> number</span><span class="token punctuation">,</span><span class="token plain"> b</span><span class="token punctuation">:</span><span class="token plain"> number</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token plain"> number</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">add</span><span class="token punctuation">(</span><span class="token plain">a</span><span class="token punctuation">:</span><span class="token plain"> string</span><span class="token punctuation">,</span><span class="token plain"> b</span><span class="token punctuation">:</span><span class="token plain"> string</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token plain"> string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">add</span><span class="token punctuation">(</span><span class="token plain">a</span><span class="token punctuation">:</span><span class="token plain"> string</span><span class="token punctuation">,</span><span class="token plain"> b</span><span class="token punctuation">:</span><span class="token plain"> number</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token plain"> string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">add</span><span class="token punctuation">(</span><span class="token plain">a</span><span class="token punctuation">:</span><span class="token plain"> number</span><span class="token punctuation">,</span><span class="token plain"> b</span><span class="token punctuation">:</span><span class="token plain"> string</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token plain"> string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token parameter punctuation">:</span><span class="token parameter"> Combinable</span><span class="token parameter punctuation">,</span><span class="token parameter"> b</span><span class="token parameter punctuation">:</span><span class="token parameter"> Combinable</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token plain"> a </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string">&quot;string&quot;</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> </span><span class="token keyword">typeof</span><span class="token plain"> b </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string">&quot;string&quot;</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword">return</span><span class="token plain"> a</span><span class="token punctuation">.</span><span class="token method function property-access">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> b</span><span class="token punctuation">.</span><span class="token method function property-access">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">return</span><span class="token plain"> a </span><span class="token operator">+</span><span class="token plain"> b</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> calculator </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Calculator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> result </span><span class="token operator">=</span><span class="token plain"> calculator</span><span class="token punctuation">.</span><span class="token method function property-access">add</span><span class="token punctuation">(</span><span class="token string">&quot;Semlinker&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&quot; Kakuqo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>这里需要注意的是，当 TypeScript 编译器处理函数重载时，它会查找重载列表，尝试使用第一个重载定义。 如果匹配的话就使用这个。 因此，在定义重载的时候，一定要把最精确的定义放在最前面。另外在 Calculator 类中，add(a: Combinable, b: Combinable)<!-- -->{<!-- --> <!-- -->}<!-- --> 并不是重载列表的一部分，因此对于 add 成员方法来说，我们只定义了四个重载方法。</p><h2 id="typescript-数组"><a aria-hidden="true" href="#typescript-数组"><span class="icon icon-link"></span></a>TypeScript 数组</h2><h3 id="数组解构"><a aria-hidden="true" href="#数组解构"><span class="icon icon-link"></span></a>数组解构</h3><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let x: number;
let y: number;
let z: number;
let five_array = [0, 1, 2, 3, 4];
[x, y, z] = five_array;
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> x</span><span class="token punctuation">:</span><span class="token plain"> number</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> y</span><span class="token punctuation">:</span><span class="token plain"> number</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> z</span><span class="token punctuation">:</span><span class="token plain"> number</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> five_array </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">[</span><span class="token plain">x</span><span class="token punctuation">,</span><span class="token plain"> y</span><span class="token punctuation">,</span><span class="token plain"> z</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> five_array</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="数组展开运算符"><a aria-hidden="true" href="#数组展开运算符"><span class="icon icon-link"></span></a>数组展开运算符</h3><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let two_array = [0, 1];
let five_array = [...two_array, 2, 3, 4];
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> two_array </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> five_array </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token spread operator">...</span><span class="token plain">two_array</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="数组遍历"><a aria-hidden="true" href="#数组遍历"><span class="icon icon-link"></span></a>数组遍历</h3><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let colors: string[] = [&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;];
for (let i of colors) {
  console.log(i);
}
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> colors</span><span class="token punctuation">:</span><span class="token plain"> string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token string">&quot;red&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&quot;green&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&quot;blue&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> i </span><span class="token keyword">of</span><span class="token plain"> colors</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">i</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="typescript-对象"><a aria-hidden="true" href="#typescript-对象"><span class="icon icon-link"></span></a>TypeScript 对象</h2><h3 id="对象解构"><a aria-hidden="true" href="#对象解构"><span class="icon icon-link"></span></a>对象解构</h3><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let person = {
  name: &quot;Semlinker&quot;,
  gender: &quot;Male&quot;,
};

let { name, gender } = person;
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> person </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;Semlinker&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  gender</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;Male&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> name</span><span class="token punctuation">,</span><span class="token plain"> gender </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> person</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="对象展开运算符"><a aria-hidden="true" href="#对象展开运算符"><span class="icon icon-link"></span></a>对象展开运算符</h3><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let person = {
  name: &quot;Semlinker&quot;,
  gender: &quot;Male&quot;,
  address: &quot;Xiamen&quot;,
};

// 组装对象
let personWithAge = { ...person, age: 33 };

// 获取除了某些项外的其它项
let { name, ...rest } = person;
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> person </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;Semlinker&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  gender</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;Male&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  address</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;Xiamen&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 组装对象</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> personWithAge </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token spread operator">...</span><span class="token plain">person</span><span class="token punctuation">,</span><span class="token plain"> age</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">33</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 获取除了某些项外的其它项</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> name</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token spread operator">...</span><span class="token plain">rest </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> person</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="typescript-接口"><a aria-hidden="true" href="#typescript-接口"><span class="icon icon-link"></span></a>TypeScript 接口</h2><p>在面向对象语言中，接口是一个很重要的概念，它是对行为的抽象，而具体如何行动需要由类去实现。</p><p>TypeScript 中的接口是一个非常灵活的概念，除了可用于对类的一部分行为进行抽象以外，也常用于对「对象的形状（Shape）」进行描述。</p><h3 id="对象的形状"><a aria-hidden="true" href="#对象的形状"><span class="icon icon-link"></span></a>对象的形状</h3><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="interface Person {
  name: string;
  age: number;
}

let Semlinker: Person = {
  name: &quot;Semlinker&quot;,
  age: 33,
};
" data-status="copy"></button><div class="token-line"><span class="token keyword">interface</span><span class="token plain"> </span><span class="token class-name">Person</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token punctuation">:</span><span class="token plain"> string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  age</span><span class="token punctuation">:</span><span class="token plain"> number</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token maybe-class-name">Semlinker</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token maybe-class-name">Person</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;Semlinker&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  age</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">33</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="可选--只读属性"><a aria-hidden="true" href="#可选--只读属性"><span class="icon icon-link"></span></a>可选 | 只读属性</h3><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="interface Person {
readonly name: string;
age?: number;
}
" data-status="copy"></button><div class="token-line"><span class="token keyword">interface</span><span class="token plain"> </span><span class="token class-name">Person</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">readonly name</span><span class="token punctuation">:</span><span class="token plain"> string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">age</span><span class="token operator">?</span><span class="token punctuation">:</span><span class="token plain"> number</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>只读属性用于限制只能在对象刚刚创建的时候修改其值。此外 TypeScript 还提供了 <code>ReadonlyArray&lt;T&gt;</code> 类型，它与 <code>Array&lt;T&gt;</code> 相似，只是把所有可变方法去掉了，因此可以确保数组创建后再也不能被修改。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let a: number[] = [1, 2, 3, 4];
let ro: ReadonlyArray&lt;number&gt; = a;
ro[0] = 12; // error!
ro.push(5); // error!
ro.length = 100; // error!
a = ro; // error!
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> a</span><span class="token punctuation">:</span><span class="token plain"> number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> ro</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token maybe-class-name">ReadonlyArray</span><span class="token operator">&lt;</span><span class="token plain">number</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> a</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">ro</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">12</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// error!</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">ro</span><span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// error!</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">ro</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">100</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// error!</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">a </span><span class="token operator">=</span><span class="token plain"> ro</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// error!</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="typescript-类"><a aria-hidden="true" href="#typescript-类"><span class="icon icon-link"></span></a>TypeScript 类</h2><h3 id="类的属性与方法"><a aria-hidden="true" href="#类的属性与方法"><span class="icon icon-link"></span></a>类的属性与方法</h3><p>在面向对象语言中，类是一种面向对象计算机编程语言的构造，是创建对象的蓝图，描述了所创建的对象共同的属性和方法。</p><p>在 TypeScript 中，我们可以通过 Class 关键字来定义一个类：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="class Greeter {
  // 静态属性
  static cname: string = &quot;Greeter&quot;;
  // 成员属性
  greeting: string;

  // 构造函数 - 执行初始化操作
  constructor(message: string) {
    this.greeting = message;
  }

  // 静态方法
  static getClassName() {
    return &quot;Class name is Greeter&quot;;
  }

  // 成员方法
  greet() {
    return &quot;Hello, &quot; + this.greeting;
  }
}

let greeter = new Greeter(&quot;world&quot;);
" data-status="copy"></button><div class="token-line"><span class="token keyword">class</span><span class="token plain"> </span><span class="token class-name">Greeter</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 静态属性</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">static</span><span class="token plain"> cname</span><span class="token punctuation">:</span><span class="token plain"> string </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;Greeter&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 成员属性</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  greeting</span><span class="token punctuation">:</span><span class="token plain"> string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 构造函数 - 执行初始化操作</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">message</span><span class="token parameter punctuation">:</span><span class="token parameter"> string</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">greeting</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> message</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 静态方法</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">static</span><span class="token plain"> </span><span class="token function">getClassName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token string">&quot;Class name is Greeter&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 成员方法</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token string">&quot;Hello, &quot;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">greeting</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> greeter </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Greeter</span><span class="token punctuation">(</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>那么成员属性与静态属性，成员方法与静态方法有什么区别呢？这里无需过多解释，我们直接看一下以下编译生成的 ES5 代码：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="&quot;use strict&quot;;
var Greeter = /** @class */ (function() {
  // 构造函数 - 执行初始化操作
  function Greeter(message) {
    this.greeting = message;
  }
  // 静态方法
  Greeter.getClassName = function() {
    return &quot;Class name is Greeter&quot;;
  };
  // 成员方法
  Greeter.prototype.greet = function() {
    return &quot;Hello, &quot; + this.greeting;
  };
  // 静态属性
  Greeter.cname = &quot;Greeter&quot;;
  return Greeter;
})();
var greeter = new Greeter(&quot;world&quot;);
" data-status="copy"></button><div class="token-line"><span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> </span><span class="token maybe-class-name">Greeter</span><span class="token plain"> </span><span class="token operator">=</span><span class="token doc-comment comment"> /** </span><span class="token doc-comment comment keyword">@class</span><span class="token doc-comment comment"> */</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 构造函数 - 执行初始化操作</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function maybe-class-name">Greeter</span><span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">greeting</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> message</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 静态方法</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token maybe-class-name">Greeter</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">getClassName</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token string">&quot;Class name is Greeter&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 成员方法</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token class-name">Greeter</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">greet</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token string">&quot;Hello, &quot;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">greeting</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 静态属性</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token maybe-class-name">Greeter</span><span class="token punctuation">.</span><span class="token property-access">cname</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;Greeter&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token maybe-class-name">Greeter</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> greeter </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Greeter</span><span class="token punctuation">(</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="访问器"><a aria-hidden="true" href="#访问器"><span class="icon icon-link"></span></a>访问器</h3><p>在 TypeScript 中，我们可以通过 getter 和 setter 方法来实现数据的封装和有效性校验，防止出现异常数据。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="let passcode = &quot;Hello TypeScript&quot;;

class Employee {
  private _fullName: string;

  get fullName(): string {
    return this._fullName;
  }

  set fullName(newName: string) {
    if (passcode &amp;&amp; passcode == &quot;Hello TypeScript&quot;) {
      this._fullName = newName;
    } else {
      console.log(&quot;Error: Unauthorized update of employee!&quot;);
    }
  }
}

let employee = new Employee();
employee.fullName = &quot;Semlinker&quot;;
if (employee.fullName) {
  console.log(employee.fullName);
}
" data-status="copy"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> passcode </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;Hello TypeScript&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">class</span><span class="token plain"> </span><span class="token class-name">Employee</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">private</span><span class="token plain"> _fullName</span><span class="token punctuation">:</span><span class="token plain"> string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">get</span><span class="token plain"> </span><span class="token function">fullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token plain"> string </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">_fullName</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">set</span><span class="token plain"> </span><span class="token function">fullName</span><span class="token punctuation">(</span><span class="token parameter">newName</span><span class="token parameter punctuation">:</span><span class="token parameter"> string</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">passcode </span><span class="token operator">&amp;&amp;</span><span class="token plain"> passcode </span><span class="token operator">==</span><span class="token plain"> </span><span class="token string">&quot;Hello TypeScript&quot;</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">_fullName</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> newName</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword">else</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;Error: Unauthorized update of employee!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> employee </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">employee</span><span class="token punctuation">.</span><span class="token property-access">fullName</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;Semlinker&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">employee</span><span class="token punctuation">.</span><span class="token property-access">fullName</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">employee</span><span class="token punctuation">.</span><span class="token property-access">fullName</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="类的继承"><a aria-hidden="true" href="#类的继承"><span class="icon icon-link"></span></a>类的继承</h3><p>继承 (Inheritance) 是一种联结类与类的层次模型。指的是一个类（称为子类、子接口）继承另外的一个类（称为父类、父接口）的功能，并可以增加它自己的新功能的能力，继承是类与类或者接口与接口之间最常见的关系。</p><p>继承是一种 is-a 关系：</p><p>在 TypeScript 中，我们可以通过 extends 关键字来实现继承：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="class Animal {
  name: string;

  constructor(theName: string) {
    this.name = theName;
  }

  move(distanceInMeters: number = 0) {
    console.log(`${this.name} moved ${distanceInMeters}m.`);
  }
}

class Snake extends Animal {
  constructor(name: string) {
    super(name);
  }

  move(distanceInMeters = 5) {
    console.log(&quot;Slithering...&quot;);
    super.move(distanceInMeters);
  }
}

let sam = new Snake(&quot;Sammy the Python&quot;);
sam.move();
" data-status="copy"></button><div class="token-line"><span class="token keyword">class</span><span class="token plain"> </span><span class="token class-name">Animal</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token punctuation">:</span><span class="token plain"> string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">theName</span><span class="token parameter punctuation">:</span><span class="token parameter"> string</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">name</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> theName</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">move</span><span class="token punctuation">(</span><span class="token parameter">distanceInMeters</span><span class="token parameter punctuation">:</span><span class="token parameter"> number </span><span class="token parameter operator">=</span><span class="token parameter"> </span><span class="token parameter number">0</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string template-punctuation string">`</span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation keyword">this</span><span class="token template-string interpolation punctuation">.</span><span class="token template-string interpolation">name</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string"> moved </span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">distanceInMeters</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string">m.</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">class</span><span class="token plain"> </span><span class="token class-name">Snake</span><span class="token plain"> </span><span class="token keyword">extends</span><span class="token plain"> </span><span class="token class-name">Animal</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token parameter punctuation">:</span><span class="token parameter"> string</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">super</span><span class="token punctuation">(</span><span class="token plain">name</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">move</span><span class="token punctuation">(</span><span class="token parameter">distanceInMeters </span><span class="token parameter operator">=</span><span class="token parameter"> </span><span class="token parameter number">5</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;Slithering...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">super</span><span class="token punctuation">.</span><span class="token method function property-access">move</span><span class="token punctuation">(</span><span class="token plain">distanceInMeters</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> sam </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Snake</span><span class="token punctuation">(</span><span class="token string">&quot;Sammy the Python&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">sam</span><span class="token punctuation">.</span><span class="token method function property-access">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="ecmascript-私有字段"><a aria-hidden="true" href="#ecmascript-私有字段"><span class="icon icon-link"></span></a>ECMAScript 私有字段</h3><p>在 TypeScript 3.8 版本就开始支持 ECMAScript 私有字段，使用方式如下：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="class Person {
  #name: string;

  constructor(name: string) {
    this.#name = name;
  }

  greet() {
    console.log(`Hello, my name is ${this.#name}!`);
  }
}

let semlinker = new Person(&quot;Semlinker&quot;);

semlinker.#name;
// ~~~~~
// Property &#x27;#name&#x27; is not accessible outside class &#x27;Person&#x27;
// because it has a private identifier.
" data-status="copy"></button><div class="token-line"><span class="token keyword">class</span><span class="token plain"> </span><span class="token class-name">Person</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  #name</span><span class="token punctuation">:</span><span class="token plain"> string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token parameter punctuation">:</span><span class="token parameter"> string</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">#name</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> name</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string template-punctuation string">`</span><span class="token template-string string">Hello, my name is </span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation keyword">this</span><span class="token template-string interpolation punctuation">.</span><span class="token template-string interpolation">#name</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string">!</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> semlinker </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;Semlinker&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">semlinker</span><span class="token punctuation">.</span><span class="token property-access">#name</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// ~~~~~</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// Property &#x27;#name&#x27; is not accessible outside class &#x27;Person&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// because it has a private identifier.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>与常规属性（甚至使用 <code>private</code> 修饰符声明的属性）不同，私有字段要牢记以下规则：</p><p>私有字段以 <code>#</code> 字符开头，有时我们称之为私有名称； 每个私有字段名称都唯一地限定于其包含的类； 不能在私有字段上使用 <code>TypeScript</code> 可访问性修饰符（如 <code>public</code> 或 <code>private</code>）； 私有字段不能在包含的类之外访问，甚至不能被检测到。</p><h2 id="typescript-泛型"><a aria-hidden="true" href="#typescript-泛型"><span class="icon icon-link"></span></a>TypeScript 泛型</h2><p>软件工程中，我们不仅要创建一致的定义良好的 API，同时也要考虑可重用性。 组件不仅能够支持当前的数据类型，同时也能支持未来的数据类型，这在创建大型系统时为你提供了十分灵活的功能。</p><p>在像 C# 和 Java 这样的语言中，可以使用泛型来创建可重用的组件，一个组件可以支持多种类型的数据。 这样用户就可以以自己的数据类型来使用组件。</p><p>设计泛型的关键目的是在成员之间提供有意义的约束，这些成员可以是：类的实例成员、类的方法、函数参数和函数返回值。</p><p>泛型（Generics）是允许同一个函数接受不同类型参数的一种模板。相比于使用 any 类型，使用泛型来创建可复用的组件要更好，因为泛型会保留参数类型。</p><h3 id="泛型接口"><a aria-hidden="true" href="#泛型接口"><span class="icon icon-link"></span></a>泛型接口</h3><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="interface GenericIdentityFn&lt;T&gt; {
  (arg: T): T;
}
" data-status="copy"></button><div class="token-line"><span class="token keyword">interface</span><span class="token plain"> </span><span class="token class-name">GenericIdentityFn</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">(</span><span class="token plain">arg</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token constant">T</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="泛型类"><a aria-hidden="true" href="#泛型类"><span class="icon icon-link"></span></a>泛型类</h3><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="class GenericNumber&lt;T&gt; {
  zeroValue: T;
  add: (x: T, y: T) =&gt; T;
}

let myGenericNumber = new GenericNumber&lt;number&gt;();
myGenericNumber.zeroValue = 0;
myGenericNumber.add = function (x, y) {
  return x + y;
};
" data-status="copy"></button><div class="token-line"><span class="token keyword">class</span><span class="token plain"> </span><span class="token class-name">GenericNumber</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  zeroValue</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token constant">T</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function-variable function">add</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token parameter punctuation">:</span><span class="token parameter"> T</span><span class="token parameter punctuation">,</span><span class="token parameter"> y</span><span class="token parameter punctuation">:</span><span class="token parameter"> T</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token constant">T</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> myGenericNumber </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">GenericNumber</span><span class="token operator">&lt;</span><span class="token plain">number</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">myGenericNumber</span><span class="token punctuation">.</span><span class="token property-access">zeroValue</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">myGenericNumber</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">add</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token parameter punctuation">,</span><span class="token parameter"> y</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">return</span><span class="token plain"> x </span><span class="token operator">+</span><span class="token plain"> y</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="泛型变量"><a aria-hidden="true" href="#泛型变量"><span class="icon icon-link"></span></a>泛型变量</h3><p>对刚接触 TypeScript 泛型的小伙伴来说，看到 T 和 E，还有 K 和 V 这些泛型变量时，估计会一脸懵逼。其实这些大写字母并没有什么本质的区别，只不过是一个约定好的规范而已。也就是说使用大写字母 A-Z 定义的类型变量都属于泛型，把 T 换成 A，也是一样的。下面我们介绍一下一些常见泛型变量代表的意思：</p><p><code>T（Type）</code>：表示一个 TypeScript 类型<code>K（Key）</code>：表示对象中的键类型<code>V（Value）</code>：表示对象中的值类型<code>E（Element）</code>：表示元素类型</p><h3 id="泛型工具类型"><a aria-hidden="true" href="#泛型工具类型"><span class="icon icon-link"></span></a>泛型工具类型</h3><p>为了方便开发者 TypeScript 内置了一些常用的工具类型，比如 <code>Partial</code>、<code>Required</code>、<code>Readonly</code>、<code>Record</code> 和 <code>ReturnType</code> 等。出于篇幅考虑，这里我们只简单介绍 <code>Partial</code> 工具类型。不过在具体介绍之前，我们得先介绍一些相关的基础知识，方便读者自行学习其它的工具类型。</p><ol><li>typeof</li></ol><p>在 TypeScript 中，typeof 操作符可以用来获取一个变量声明或对象的类型。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="interface Person {
  name: string;
  age: number;
}

const sem: Person = { name: &quot;semlinker&quot;, age: 30 };
type Sem = typeof sem; // -&gt; Person

function toArray(x: number): Array&lt;number&gt; {
  return [x];
}

type Func = typeof toArray; // -&gt; (x: number) =&gt; number[]
" data-status="copy"></button><div class="token-line"><span class="token keyword">interface</span><span class="token plain"> </span><span class="token class-name">Person</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token punctuation">:</span><span class="token plain"> string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  age</span><span class="token punctuation">:</span><span class="token plain"> number</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> sem</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token maybe-class-name">Person</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> name</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;semlinker&quot;</span><span class="token punctuation">,</span><span class="token plain"> age</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">30</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">type </span><span class="token maybe-class-name">Sem</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">typeof</span><span class="token plain"> sem</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// -&gt; Person</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token parameter punctuation">:</span><span class="token parameter"> number</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Array</span><span class="token operator">&lt;</span><span class="token plain">number</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">x</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">type </span><span class="token maybe-class-name">Func</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">typeof</span><span class="token plain"> toArray</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// -&gt; (x: number) =&gt; number[]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><ol start="2"><li>keyof</li></ol><p>keyof 操作符可以用来一个对象中的所有 key 值：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="interface Person {
name: string;
age: number;
}

type K1 = keyof Person; // &quot;name&quot; | &quot;age&quot;
type K2 = keyof Person[]; // &quot;length&quot; | &quot;toString&quot; | &quot;pop&quot; | &quot;push&quot; | &quot;concat&quot; | &quot;join&quot;
type K3 = keyof { [x: string]: Person }; // string | number
" data-status="copy"></button><div class="token-line"><span class="token keyword">interface</span><span class="token plain"> </span><span class="token class-name">Person</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">name</span><span class="token punctuation">:</span><span class="token plain"> string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">age</span><span class="token punctuation">:</span><span class="token plain"> number</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">type </span><span class="token constant">K1</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> keyof </span><span class="token maybe-class-name">Person</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// &quot;name&quot; | &quot;age&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">type </span><span class="token constant">K2</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> keyof </span><span class="token maybe-class-name">Person</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// &quot;length&quot; | &quot;toString&quot; | &quot;pop&quot; | &quot;push&quot; | &quot;concat&quot; | &quot;join&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">type </span><span class="token constant">K3</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> keyof </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">x</span><span class="token punctuation">:</span><span class="token plain"> string</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token maybe-class-name">Person</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// string | number</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><ol start="3"><li>in</li></ol><p>in 用来遍历枚举类型：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="type Keys = &quot;a&quot; | &quot;b&quot; | &quot;c&quot;

type Obj = {
[p in Keys]: any
} // -&gt; { a: any, b: any, c: any }
" data-status="copy"></button><div class="token-line"><span class="token plain">type </span><span class="token maybe-class-name">Keys</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;a&quot;</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token string">&quot;b&quot;</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token string">&quot;c&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">type </span><span class="token maybe-class-name">Obj</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">[</span><span class="token plain">p </span><span class="token keyword">in</span><span class="token plain"> </span><span class="token maybe-class-name">Keys</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token plain"> any</span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token comment">// -&gt; { a: any, b: any, c: any }</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><ol start="4"><li>infer</li></ol><p>在条件类型语句中，可以用 infer 声明一个类型变量并且对它进行使用。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="type ReturnType&lt;T&gt; = T extends (
  ...args: any[]
) =&gt; infer R ? R : any;
" data-status="copy"></button><div class="token-line"><span class="token plain">type </span><span class="token maybe-class-name">ReturnType</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token constant">T</span><span class="token plain"> </span><span class="token keyword">extends</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token parameter operator">...</span><span class="token parameter">args</span><span class="token parameter punctuation">:</span><span class="token parameter"> any</span><span class="token parameter punctuation">[</span><span class="token parameter punctuation">]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> infer </span><span class="token constant">R</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> </span><span class="token constant">R</span><span class="token plain"> </span><span class="token punctuation">:</span><span class="token plain"> any</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>以上代码中 infer R 就是声明一个变量来承载传入函数签名的返回值类型，简单说就是用它取到函数返回值的类型方便之后使用。</p><ol start="5"><li>extends</li></ol><p>有时候我们定义的泛型不想过于灵活或者说想继承某些类等，可以通过 extends 关键字添加泛型约束。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="interface ILengthwise {
  length: number;
}

function loggingIdentity&lt;T extends ILengthwise&gt;(arg: T): T {
  console.log(arg.length);
  return arg;
}
" data-status="copy"></button><div class="token-line"><span class="token keyword">interface</span><span class="token plain"> </span><span class="token class-name">ILengthwise</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  length</span><span class="token punctuation">:</span><span class="token plain"> number</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> loggingIdentity</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token plain"> </span><span class="token keyword">extends</span><span class="token plain"> </span><span class="token class-name">ILengthwise</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token plain">arg</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token constant">T</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">arg</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">return</span><span class="token plain"> arg</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>现在这个泛型函数被定义了约束，因此它不再是适用于任意类型：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="loggingIdentity(3); // Error, number doesn&#x27;t have a .length property
" data-status="copy"></button><div class="token-line"><span class="token function">loggingIdentity</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// Error, number doesn&#x27;t have a .length property</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>这时我们需要传入符合约束类型的值，必须包含必须的属性：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="loggingIdentity({ length: 10, value: 3 });
" data-status="copy"></button><div class="token-line"><span class="token function">loggingIdentity</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"> length</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">10</span><span class="token punctuation">,</span><span class="token plain"> value</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">3</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><ol start="6"><li>Partial</li></ol><p><code>Partial&lt;T&gt;</code> 的作用就是将某个类型里的属性全部变为可选项 ?。</p><p>定义：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="/\*\*

- node_modules/typescript/lib/lib.es5.d.ts
- Make all properties in T optional
  \*/
  type Partial&lt;T&gt; = {
  [P in keyof T]?: T[P];
  };
" data-status="copy"></button><div class="token-line"><span class="token operator">/</span><span class="token plain">\</span><span class="token operator">*</span><span class="token plain">\</span><span class="token operator">*</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator">-</span><span class="token plain"> node_modules</span><span class="token operator">/</span><span class="token plain">typescript</span><span class="token operator">/</span><span class="token plain">lib</span><span class="token operator">/</span><span class="token plain">lib</span><span class="token punctuation">.</span><span class="token property-access">es5</span><span class="token punctuation">.</span><span class="token property-access">d</span><span class="token punctuation">.</span><span class="token property-access">ts</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator">-</span><span class="token plain"> </span><span class="token maybe-class-name">Make</span><span class="token plain"> all properties </span><span class="token keyword">in</span><span class="token plain"> </span><span class="token constant">T</span><span class="token plain"> optional</span></div><div class="token-line"><span class="token plain">  \</span><span class="token operator">*</span><span class="token operator">/</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  type </span><span class="token maybe-class-name">Partial</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token plain"> </span><span class="token keyword">in</span><span class="token plain"> keyof </span><span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>在以上代码中，首先通过 <code>keyof T</code> 拿到 <code>T</code> 的所有属性名，然后使用 <code>in</code> 进行遍历，将值赋给 <code>P</code>，最后通过 <code>T[P]</code> 取得相应的属性值。中间的 <code>?</code> 号，用于将所有属性变为可选。</p><p>示例：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="interface Todo {
  title: string;
  description: string;
}

function updateTodo(todo: Todo, fieldsToUpdate: Partial&lt;Todo&gt;) {
  return { ...todo, ...fieldsToUpdate };
}

const todo1 = {
  title: &quot;organize desk&quot;,
  description: &quot;clear clutter&quot;,
};

const todo2 = updateTodo(todo1, {
  description: &quot;throw out trash&quot;,
});
" data-status="copy"></button><div class="token-line"><span class="token keyword">interface</span><span class="token plain"> </span><span class="token class-name">Todo</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  title</span><span class="token punctuation">:</span><span class="token plain"> string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  description</span><span class="token punctuation">:</span><span class="token plain"> string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">updateTodo</span><span class="token punctuation">(</span><span class="token parameter">todo</span><span class="token parameter punctuation">:</span><span class="token parameter"> Todo</span><span class="token parameter punctuation">,</span><span class="token parameter"> fieldsToUpdate</span><span class="token parameter punctuation">:</span><span class="token parameter"> Partial</span><span class="token parameter operator">&lt;</span><span class="token parameter">Todo</span><span class="token parameter operator">&gt;</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token spread operator">...</span><span class="token plain">todo</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token spread operator">...</span><span class="token plain">fieldsToUpdate </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> todo1 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  title</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;organize desk&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  description</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;clear clutter&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> todo2 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">updateTodo</span><span class="token punctuation">(</span><span class="token plain">todo1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  description</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;throw out trash&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>在上面的 updateTodo 方法中，我们利用 <code>Partial&lt;T&gt;</code> 工具类型，定义 <code>fieldsToUpdate</code> 的类型为 <code>Partial&lt;Todo&gt;</code>，即：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="{
title?: string | undefined;
description?: string | undefined;
}
" data-status="copy"></button><div class="token-line"><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">title</span><span class="token operator">?</span><span class="token punctuation">:</span><span class="token plain"> string </span><span class="token operator">|</span><span class="token plain"> </span><span class="token keyword nil">undefined</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">description</span><span class="token operator">?</span><span class="token punctuation">:</span><span class="token plain"> string </span><span class="token operator">|</span><span class="token plain"> </span><span class="token keyword nil">undefined</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><ol start="7"><li>Pick 部分选择</li></ol><p>在某些应用场景下，我们可能需要从一个已声明的类型中抽取出一个子类型，在子类型中包含父类型中的部分或全部属性，这时我们可以使用Pick来实现，示例代码如下：</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// 该类型已内置在TypeScript中
type Pick&lt;T, K extends keyof T&gt; = {
    [P in K]: T[P]
};

interface User {
    id: number;
    name: string;
    age: number;
    gender: number;
    email: string;
}

type PickUser = Pick&lt;User, &quot;id&quot; | &quot;name&quot; | &quot;gender&quot;&gt;;
// 等价于
type PickUser = {
    id: number;
    name: string;
    gender: number;
};

let user: PickUser = {
    id: 1,
    name: &#x27;tom&#x27;,
    gender: 1
};
" data-status="copy"></button><div class="token-line"><span class="token comment">// 该类型已内置在TypeScript中</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">type </span><span class="token maybe-class-name">Pick</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token constant">K</span><span class="token plain"> </span><span class="token keyword">extends</span><span class="token plain"> </span><span class="token class-name">keyof</span><span class="token plain"> </span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token plain"> </span><span class="token keyword">in</span><span class="token plain"> </span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">interface</span><span class="token plain"> </span><span class="token class-name">User</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    id</span><span class="token punctuation">:</span><span class="token plain"> number</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    name</span><span class="token punctuation">:</span><span class="token plain"> string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    age</span><span class="token punctuation">:</span><span class="token plain"> number</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    gender</span><span class="token punctuation">:</span><span class="token plain"> number</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    email</span><span class="token punctuation">:</span><span class="token plain"> string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">type </span><span class="token maybe-class-name">PickUser</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token maybe-class-name">Pick</span><span class="token operator">&lt;</span><span class="token maybe-class-name">User</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&quot;id&quot;</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token string">&quot;name&quot;</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token string">&quot;gender&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 等价于</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">type </span><span class="token maybe-class-name">PickUser</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    id</span><span class="token punctuation">:</span><span class="token plain"> number</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    name</span><span class="token punctuation">:</span><span class="token plain"> string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    gender</span><span class="token punctuation">:</span><span class="token plain"> number</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> user</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token maybe-class-name">PickUser</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    id</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    name</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;tom&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    gender</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><ol start="8"><li>Exclude 属性排除 与Pick相反，Pick用于拣选出我们需要关心的属性，而Exclude用于排除掉我们不需要关心的属性，示例如下：</li></ol><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// 该类型已内置在TypeScript中
// 这里使用了条件类型(Conditional Type)，和JS中的三目运算符效果一致
type Exclude&lt;T, U&gt; = T extends U ? never : T;

interface User {
    id: number;
    name: string;
    age: number;
    gender: number;
    email: string;
}

type keys = keyof User; // -&gt; &quot;id&quot; | &quot;name&quot; | &quot;age&quot; | &quot;gender&quot; | &quot;email&quot;

type ExcludeUser = Exclude&lt;keys, &quot;age&quot; | &quot;email&quot;&gt;;
// 等价于
type ExcludeUser = &quot;id&quot; | &quot;name&quot; | &quot;gender&quot;;
" data-status="copy"></button><div class="token-line"><span class="token comment">// 该类型已内置在TypeScript中</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 这里使用了条件类型(Conditional Type)，和JS中的三目运算符效果一致</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">type </span><span class="token maybe-class-name">Exclude</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token constant">U</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token constant">T</span><span class="token plain"> </span><span class="token keyword">extends</span><span class="token plain"> </span><span class="token class-name">U</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> never </span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token constant">T</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">interface</span><span class="token plain"> </span><span class="token class-name">User</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    id</span><span class="token punctuation">:</span><span class="token plain"> number</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    name</span><span class="token punctuation">:</span><span class="token plain"> string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    age</span><span class="token punctuation">:</span><span class="token plain"> number</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    gender</span><span class="token punctuation">:</span><span class="token plain"> number</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    email</span><span class="token punctuation">:</span><span class="token plain"> string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">type keys </span><span class="token operator">=</span><span class="token plain"> keyof </span><span class="token maybe-class-name">User</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// -&gt; &quot;id&quot; | &quot;name&quot; | &quot;age&quot; | &quot;gender&quot; | &quot;email&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">type </span><span class="token maybe-class-name">ExcludeUser</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token maybe-class-name">Exclude</span><span class="token operator">&lt;</span><span class="token plain">keys</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&quot;age&quot;</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token string">&quot;email&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 等价于</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">type </span><span class="token maybe-class-name">ExcludeUser</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;id&quot;</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token string">&quot;name&quot;</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token string">&quot;gender&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="typescript-装饰器"><a aria-hidden="true" href="#typescript-装饰器"><span class="icon icon-link"></span></a>TypeScript 装饰器</h2><h3 id="装饰器是什么"><a aria-hidden="true" href="#装饰器是什么"><span class="icon icon-link"></span></a>装饰器是什么</h3><ul><li>它是一个表达式</li><li>该表达式被执行后，返回一个函数</li><li>函数的入参分别为 target、name 和 descriptor</li><li>执行该函数后，可能返回 descriptor 对象，用于配置 target 对象</li></ul><h3 id="装饰器的分类"><a aria-hidden="true" href="#装饰器的分类"><span class="icon icon-link"></span></a>装饰器的分类</h3><ul><li>类装饰器（Class decorators）</li><li>属性装饰器（Property decorators）</li><li>方法装饰器（Method decorators）</li><li>参数装饰器（Parameter decorators）</li></ul><h3 id="类装饰器"><a aria-hidden="true" href="#类装饰器"><span class="icon icon-link"></span></a>类装饰器</h3><p>类装饰器声明：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="declare type ClassDecorator = &lt;TFunction extends Function&gt;(
target: TFunction
) =&gt; TFunction | void;
" data-status="copy"></button><div class="token-line"><span class="token plain">declare type </span><span class="token maybe-class-name">ClassDecorator</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token maybe-class-name">TFunction</span><span class="token plain"> </span><span class="token keyword">extends</span><span class="token plain"> </span><span class="token class-name">Function</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token parameter">target</span><span class="token parameter punctuation">:</span><span class="token parameter"> TFunction</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">TFunction</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token keyword">void</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>类装饰器顾名思义，就是用来装饰类的。它接收一个参数：</p><p>target: TFunction - 被装饰的类 看完第一眼后，是不是感觉都不好了。没事，我们马上来个例子：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="function Greeter(target: Function): void {
  target.prototype.greet = function(): void {
    console.log(&quot;Hello Semlinker!&quot;);
  };
}

@Greeter
class Greeting {
  constructor() {
    // 内部实现
  }
}

let myGreeting = new Greeting();
myGreeting.greet(); // console output: &#x27;Hello Semlinker!&#x27;;
" data-status="copy"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function maybe-class-name">Greeter</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token parameter punctuation">:</span><span class="token parameter"> Function</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token keyword">void</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  target</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">greet</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token keyword">void</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;Hello Semlinker!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">@</span><span class="token maybe-class-name">Greeter</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">class</span><span class="token plain"> </span><span class="token class-name">Greeting</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// 内部实现</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> myGreeting </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Greeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">myGreeting</span><span class="token punctuation">.</span><span class="token method function property-access">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// console output: &#x27;Hello Semlinker!&#x27;;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>上面的例子中，我们定义了 Greeter 类装饰器，同时我们使用了 @Greeter 语法糖，来使用装饰器。</p><p>友情提示：读者可以直接复制上面的代码，在 TypeScript Playground 中运行查看结果。</p><p>有的读者可能想问，例子中总是输出 Hello Semlinker! ，能自定义输出的问候语么 ？这个问题很好，答案是可以的。</p><p>具体实现如下：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="function Greeter(greeting: string) {
  return function(target: Function) {
    target.prototype.greet = function(): void {
      console.log(greeting);
    };
  };
}

@Greeter(&quot;Hello TS!&quot;)
class Greeting {
  constructor() {
    // 内部实现
  }
}

let myGreeting = new Greeting();
myGreeting.greet(); // console output: &#x27;Hello TS!&#x27;;
" data-status="copy"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function maybe-class-name">Greeter</span><span class="token punctuation">(</span><span class="token parameter">greeting</span><span class="token parameter punctuation">:</span><span class="token parameter"> string</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token parameter punctuation">:</span><span class="token parameter"> Function</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    target</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">greet</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token keyword">void</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">greeting</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">@</span><span class="token function maybe-class-name">Greeter</span><span class="token punctuation">(</span><span class="token string">&quot;Hello TS!&quot;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">class</span><span class="token plain"> </span><span class="token class-name">Greeting</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// 内部实现</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> myGreeting </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Greeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">myGreeting</span><span class="token punctuation">.</span><span class="token method function property-access">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// console output: &#x27;Hello TS!&#x27;;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="属性装饰器"><a aria-hidden="true" href="#属性装饰器"><span class="icon icon-link"></span></a>属性装饰器</h3><p>属性装饰器声明：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="declare type PropertyDecorator = (
  target: Object,
  propertyKey: string | symbol
) =&gt; void;
" data-status="copy"></button><div class="token-line"><span class="token plain">declare type </span><span class="token function-variable function maybe-class-name">PropertyDecorator</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token parameter">target</span><span class="token parameter punctuation">:</span><span class="token parameter"> Object</span><span class="token parameter punctuation">,</span><span class="token parameter"></span></div><div class="token-line"><span class="token parameter">  propertyKey</span><span class="token parameter punctuation">:</span><span class="token parameter"> string </span><span class="token parameter operator">|</span><span class="token parameter"> symbol</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token keyword">void</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>属性装饰器顾名思义，用来装饰类的属性。它接收两个参数：</p><p>target: Object - 被装饰的类 propertyKey: string | symbol - 被装饰类的属性名 趁热打铁，马上来个例子热热身：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="function logProperty(target: any, key: string) {
delete target[key];

const backingField = &quot;_&quot; + key;

Object.defineProperty(target, backingField, {
writable: true,
enumerable: true,
configurable: true
});

// property getter
const getter = function (this: any) {
const currVal = this[backingField];
console.log(`Get: ${key} =&gt; ${currVal}`);
return currVal;
};

// property setter
const setter = function (this: any, newVal: any) {
console.log(`Set: ${key} =&gt; ${newVal}`);
this[backingField] = newVal;
};

// Create new property with getter and setter
Object.defineProperty(target, key, {
get: getter,
set: setter,
enumerable: true,
configurable: true
});
}

class Person {
@logProperty
public name: string;

constructor(name : string) {
this.name = name;
}
}

const p1 = new Person(&quot;semlinker&quot;);
p1.name = &quot;kakuqo&quot;;
" data-status="copy"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">logProperty</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token parameter punctuation">:</span><span class="token parameter"> any</span><span class="token parameter punctuation">,</span><span class="token parameter"> key</span><span class="token parameter punctuation">:</span><span class="token parameter"> string</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">delete</span><span class="token plain"> target</span><span class="token punctuation">[</span><span class="token plain">key</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> backingField </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;_&quot;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> key</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">defineProperty</span><span class="token punctuation">(</span><span class="token plain">target</span><span class="token punctuation">,</span><span class="token plain"> backingField</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">writable</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">enumerable</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">configurable</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// property getter</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> </span><span class="token function-variable function">getter</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter keyword">this</span><span class="token parameter punctuation">:</span><span class="token parameter"> any</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> currVal </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">this</span><span class="token punctuation">[</span><span class="token plain">backingField</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string template-punctuation string">`</span><span class="token template-string string">Get: </span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">key</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string"> =&gt; </span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">currVal</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">return</span><span class="token plain"> currVal</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// property setter</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> </span><span class="token function-variable function">setter</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter keyword">this</span><span class="token parameter punctuation">:</span><span class="token parameter"> any</span><span class="token parameter punctuation">,</span><span class="token parameter"> newVal</span><span class="token parameter punctuation">:</span><span class="token parameter"> any</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string template-punctuation string">`</span><span class="token template-string string">Set: </span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">key</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string"> =&gt; </span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">newVal</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">this</span><span class="token punctuation">[</span><span class="token plain">backingField</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> newVal</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// Create new property with getter and setter</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">defineProperty</span><span class="token punctuation">(</span><span class="token plain">target</span><span class="token punctuation">,</span><span class="token plain"> key</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">get</span><span class="token punctuation">:</span><span class="token plain"> getter</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">set</span><span class="token punctuation">:</span><span class="token plain"> setter</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">enumerable</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">configurable</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">class</span><span class="token plain"> </span><span class="token class-name">Person</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">@logProperty</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">public</span><span class="token plain"> name</span><span class="token punctuation">:</span><span class="token plain"> string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name </span><span class="token parameter punctuation">:</span><span class="token parameter"> string</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">name</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> name</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> p1 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;semlinker&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">p1</span><span class="token punctuation">.</span><span class="token property-access">name</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;kakuqo&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>以上代码我们定义了一个 logProperty 函数，来跟踪用户对属性的操作，当代码成功运行后，在控制台会输出以下结果：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="Set: (name) =&gt; semlinker;
Set: (name) =&gt; kakuqo;
" data-status="copy"></button><div class="token-line"><span class="token function-variable function maybe-class-name">Set</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> semlinker</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function-variable function maybe-class-name">Set</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> kakuqo</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="方法装饰器"><a aria-hidden="true" href="#方法装饰器"><span class="icon icon-link"></span></a>方法装饰器</h3><p>方法装饰器声明：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="declare type MethodDecorator = &lt;T&gt;(
  target: Object,
  propertyKey: string | symbol,
  descriptor: TypePropertyDescript&lt;T&gt;
) =&gt; TypedPropertyDescriptor&lt;T&gt; | void;
" data-status="copy"></button><div class="token-line"><span class="token plain">declare type </span><span class="token maybe-class-name">MethodDecorator</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token parameter">target</span><span class="token parameter punctuation">:</span><span class="token parameter"> Object</span><span class="token parameter punctuation">,</span><span class="token parameter"></span></div><div class="token-line"><span class="token parameter">  propertyKey</span><span class="token parameter punctuation">:</span><span class="token parameter"> string </span><span class="token parameter operator">|</span><span class="token parameter"> symbol</span><span class="token parameter punctuation">,</span><span class="token parameter"></span></div><div class="token-line"><span class="token parameter">  descriptor</span><span class="token parameter punctuation">:</span><span class="token parameter"> TypePropertyDescript</span><span class="token parameter operator">&lt;</span><span class="token parameter">T</span><span class="token parameter operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">TypedPropertyDescriptor</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token keyword">void</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>方法装饰器顾名思义，用来装饰类的方法。它接收三个参数：</p><p>target: Object - 被装饰的类 propertyKey: string | symbol - 方法名 descriptor: TypePropertyDescript - 属性描述符 废话不多说，直接上例子：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="function LogOutput(tarage: Function, key: string, descriptor: any) {
let originalMethod = descriptor.value;
let newMethod = function(...args: any[]): any {
let result: any = originalMethod.apply(this, args);
if(!this.loggedOutput) {
this.loggedOutput = new Array&lt;any&gt;();
}
this.loggedOutput.push({
method: key,
parameters: args,
output: result,
timestamp: new Date()
});
return result;
};
descriptor.value = newMethod;
}

class Calculator {
@LogOutput
double (num: number): number {
return num \* 2;
}
}

let calc = new Calculator();
calc.double(11);
// console ouput: [{method: &quot;double&quot;, output: 22, ...}]
console.log(calc.loggedOutput);
" data-status="copy"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function maybe-class-name">LogOutput</span><span class="token punctuation">(</span><span class="token parameter">tarage</span><span class="token parameter punctuation">:</span><span class="token parameter"> Function</span><span class="token parameter punctuation">,</span><span class="token parameter"> key</span><span class="token parameter punctuation">:</span><span class="token parameter"> string</span><span class="token parameter punctuation">,</span><span class="token parameter"> descriptor</span><span class="token parameter punctuation">:</span><span class="token parameter"> any</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> originalMethod </span><span class="token operator">=</span><span class="token plain"> descriptor</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> </span><span class="token function-variable function">newMethod</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter operator">...</span><span class="token parameter">args</span><span class="token parameter punctuation">:</span><span class="token parameter"> any</span><span class="token parameter punctuation">[</span><span class="token parameter punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token plain"> any </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> result</span><span class="token punctuation">:</span><span class="token plain"> any </span><span class="token operator">=</span><span class="token plain"> originalMethod</span><span class="token punctuation">.</span><span class="token method function property-access">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token plain"> args</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">loggedOutput</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">loggedOutput</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Array</span><span class="token operator">&lt;</span><span class="token plain">any</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">loggedOutput</span><span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">method</span><span class="token punctuation">:</span><span class="token plain"> key</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">parameters</span><span class="token punctuation">:</span><span class="token plain"> args</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">output</span><span class="token punctuation">:</span><span class="token plain"> result</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">timestamp</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">return</span><span class="token plain"> result</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">descriptor</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> newMethod</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">class</span><span class="token plain"> </span><span class="token class-name">Calculator</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">@</span><span class="token maybe-class-name">LogOutput</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function">double</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">num</span><span class="token punctuation">:</span><span class="token plain"> number</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token plain"> number </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">return</span><span class="token plain"> num \</span><span class="token operator">*</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> calc </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Calculator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">calc</span><span class="token punctuation">.</span><span class="token method function property-access">double</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// console ouput: [{method: &quot;double&quot;, output: 22, ...}]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">calc</span><span class="token punctuation">.</span><span class="token property-access">loggedOutput</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>下面我们来介绍一下参数装饰器。</p><h3 id="参数装饰器"><a aria-hidden="true" href="#参数装饰器"><span class="icon icon-link"></span></a>参数装饰器</h3><p>参数装饰器声明：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="declare type ParameterDecorator = (
  target: Object,
  propertyKey: string | symbol,
  parameterIndex: number
) =&gt; void;
" data-status="copy"></button><div class="token-line"><span class="token plain">declare type </span><span class="token function-variable function maybe-class-name">ParameterDecorator</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token parameter">target</span><span class="token parameter punctuation">:</span><span class="token parameter"> Object</span><span class="token parameter punctuation">,</span><span class="token parameter"></span></div><div class="token-line"><span class="token parameter">  propertyKey</span><span class="token parameter punctuation">:</span><span class="token parameter"> string </span><span class="token parameter operator">|</span><span class="token parameter"> symbol</span><span class="token parameter punctuation">,</span><span class="token parameter"></span></div><div class="token-line"><span class="token parameter">  parameterIndex</span><span class="token parameter punctuation">:</span><span class="token parameter"> number</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token keyword">void</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>参数装饰器顾名思义，是用来装饰函数参数，它接收三个参数：</p><p>target: Object - 被装饰的类 propertyKey: string | symbol - 方法名 parameterIndex: number - 方法中参数的索引值</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="function Log(target: Function, key: string, parameterIndex: number) {
  let functionLogged = key || target.prototype.constructor.name;
  console.log(
    `The parameter in position ${parameterIndex} at ${functionLogged} has been decorated`
  );
}

class Greeter {
  greeting: string;
  constructor(@Log phrase: string) {
    this.greeting = phrase;
  }
}

// console output: The parameter in position 0
// at Greeter has been decorated
" data-status="copy"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function maybe-class-name">Log</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token parameter punctuation">:</span><span class="token parameter"> Function</span><span class="token parameter punctuation">,</span><span class="token parameter"> key</span><span class="token parameter punctuation">:</span><span class="token parameter"> string</span><span class="token parameter punctuation">,</span><span class="token parameter"> parameterIndex</span><span class="token parameter punctuation">:</span><span class="token parameter"> number</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> functionLogged </span><span class="token operator">=</span><span class="token plain"> key </span><span class="token operator">||</span><span class="token plain"> target</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token punctuation">.</span><span class="token property-access">constructor</span><span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token template-string template-punctuation string">`</span><span class="token template-string string">The parameter in position </span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">parameterIndex</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string"> at </span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">functionLogged</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string"> has been decorated</span><span class="token template-string template-punctuation string">`</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">class</span><span class="token plain"> </span><span class="token class-name">Greeter</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  greeting</span><span class="token punctuation">:</span><span class="token plain"> string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">@Log phrase</span><span class="token parameter punctuation">:</span><span class="token parameter"> string</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">greeting</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> phrase</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// console output: The parameter in position 0</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// at Greeter has been decorated</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>介绍完 TypeScript 入门相关的基础知识，猜测很多刚入门的小伙伴已有 “从入门到放弃” 的想法，最后我们来简单介绍一下编译上下文。</p><h2 id="编译上下文"><a aria-hidden="true" href="#编译上下文"><span class="icon icon-link"></span></a>编译上下文</h2><h3 id="tsconfigjson-的作用"><a aria-hidden="true" href="#tsconfigjson-的作用"><span class="icon icon-link"></span></a>tsconfig.json 的作用</h3><ul><li>用于标识 TypeScript 项目的根路径；</li><li>用于配置 TypeScript 编译器；</li><li>用于指定编译的文件。</li></ul><h3 id="tsconfigjson-重要字段"><a aria-hidden="true" href="#tsconfigjson-重要字段"><span class="icon icon-link"></span></a>tsconfig.json 重要字段</h3><ul><li>files - 设置要编译的文件的名称；</li><li>include - 设置需要进行编译的文件，支持路径模式匹配；</li><li>exclude - 设置无需进行编译的文件，支持路径模式匹配；</li><li>compilerOptions - 设置与编译流程相关的选项。</li></ul><h3 id="compileroptions-选项"><a aria-hidden="true" href="#compileroptions-选项"><span class="icon icon-link"></span></a>compilerOptions 选项</h3><p>compilerOptions 支持很多选项，常见的有 baseUrl、 target、baseUrl、 moduleResolution 和 lib 等。</p><p>compilerOptions 每个选项的详细说明如下：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="{
  &quot;compilerOptions&quot;: {

    /* 基本选项 */
    &quot;target&quot;: &quot;es5&quot;,                       // 指定 ECMAScript 目标版本: &#x27;ES3&#x27; (default), &#x27;ES5&#x27;, &#x27;ES6&#x27;/&#x27;ES2015&#x27;, &#x27;ES2016&#x27;, &#x27;ES2017&#x27;, or &#x27;ESNEXT&#x27;
    &quot;module&quot;: &quot;commonjs&quot;,                  // 指定使用模块: &#x27;commonjs&#x27;, &#x27;amd&#x27;, &#x27;system&#x27;, &#x27;umd&#x27; or &#x27;es2015&#x27;
    &quot;lib&quot;: [],                             // 指定要包含在编译中的库文件
    &quot;allowJs&quot;: true,                       // 允许编译 javascript 文件
    &quot;checkJs&quot;: true,                       // 报告 javascript 文件中的错误
    &quot;jsx&quot;: &quot;preserve&quot;,                     // 指定 jsx 代码的生成: &#x27;preserve&#x27;, &#x27;react-native&#x27;, or &#x27;react&#x27;
    &quot;declaration&quot;: true,                   // 生成相应的 &#x27;.d.ts&#x27; 文件
    &quot;sourceMap&quot;: true,                     // 生成相应的 &#x27;.map&#x27; 文件
    &quot;outFile&quot;: &quot;./&quot;,                       // 将输出文件合并为一个文件
    &quot;outDir&quot;: &quot;./&quot;,                        // 指定输出目录
    &quot;rootDir&quot;: &quot;./&quot;,                       // 用来控制输出目录结构 --outDir.
    &quot;removeComments&quot;: true,                // 删除编译后的所有的注释
    &quot;noEmit&quot;: true,                        // 不生成输出文件
    &quot;importHelpers&quot;: true,                 // 从 tslib 导入辅助工具函数
    &quot;isolatedModules&quot;: true,               // 将每个文件做为单独的模块 （与 &#x27;ts.transpileModule&#x27; 类似）.

    /* 严格的类型检查选项 */
    &quot;strict&quot;: true,                        // 启用所有严格类型检查选项
    &quot;noImplicitAny&quot;: true,                 // 在表达式和声明上有隐含的 any类型时报错
    &quot;strictNullChecks&quot;: true,              // 启用严格的 null 检查
    &quot;noImplicitThis&quot;: true,                // 当 this 表达式值为 any 类型的时候，生成一个错误
    &quot;alwaysStrict&quot;: true,                  // 以严格模式检查每个模块，并在每个文件里加入 &#x27;use strict&#x27;

    /* 额外的检查 */
    &quot;noUnusedLocals&quot;: true,                // 有未使用的变量时，抛出错误
    &quot;noUnusedParameters&quot;: true,            // 有未使用的参数时，抛出错误
    &quot;noImplicitReturns&quot;: true,             // 并不是所有函数里的代码都有返回值时，抛出错误
    &quot;noFallthroughCasesInSwitch&quot;: true,    // 报告 switch 语句的 fallthrough 错误。（即，不允许 switch 的 case 语句贯穿）

    /* 模块解析选项 */
    &quot;moduleResolution&quot;: &quot;node&quot;,            // 选择模块解析策略： &#x27;node&#x27; (Node.js) or &#x27;classic&#x27; (TypeScript pre-1.6)
    &quot;baseUrl&quot;: &quot;./&quot;,                       // 用于解析非相对模块名称的基目录
    &quot;paths&quot;: {},                           // 模块名到基于 baseUrl 的路径映射的列表
    &quot;rootDirs&quot;: [],                        // 根文件夹列表，其组合内容表示项目运行时的结构内容
    &quot;typeRoots&quot;: [],                       // 包含类型声明的文件列表
    &quot;types&quot;: [],                           // 需要包含的类型声明文件名列表
    &quot;allowSyntheticDefaultImports&quot;: true,  // 允许从没有设置默认导出的模块中默认导入。

    /* Source Map Options */
    &quot;sourceRoot&quot;: &quot;./&quot;,                    // 指定调试器应该找到 TypeScript 文件而不是源文件的位置
    &quot;mapRoot&quot;: &quot;./&quot;,                       // 指定调试器应该找到映射文件而不是生成文件的位置
    &quot;inlineSourceMap&quot;: true,               // 生成单个 soucemaps 文件，而不是将 sourcemaps 生成不同的文件
    &quot;inlineSources&quot;: true,                 // 将代码与 sourcemaps 生成到一个文件中，要求同时设置了 --inlineSourceMap 或 --sourceMap 属性

    /* 其他选项 */
    &quot;experimentalDecorators&quot;: true,        // 启用装饰器
    &quot;emitDecoratorMetadata&quot;: true          // 为装饰器提供元数据的支持
  }
}
" data-status="copy"></button><div class="token-line"><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token string">&quot;compilerOptions&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">/* 基本选项 */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;target&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;es5&quot;</span><span class="token punctuation">,</span><span class="token plain">                       </span><span class="token comment">// 指定 ECMAScript 目标版本: &#x27;ES3&#x27; (default), &#x27;ES5&#x27;, &#x27;ES6&#x27;/&#x27;ES2015&#x27;, &#x27;ES2016&#x27;, &#x27;ES2017&#x27;, or &#x27;ESNEXT&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;module&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;commonjs&quot;</span><span class="token punctuation">,</span><span class="token plain">                  </span><span class="token comment">// 指定使用模块: &#x27;commonjs&#x27;, &#x27;amd&#x27;, &#x27;system&#x27;, &#x27;umd&#x27; or &#x27;es2015&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;lib&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain">                             </span><span class="token comment">// 指定要包含在编译中的库文件</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;allowJs&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain">                       </span><span class="token comment">// 允许编译 javascript 文件</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;checkJs&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain">                       </span><span class="token comment">// 报告 javascript 文件中的错误</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;jsx&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;preserve&quot;</span><span class="token punctuation">,</span><span class="token plain">                     </span><span class="token comment">// 指定 jsx 代码的生成: &#x27;preserve&#x27;, &#x27;react-native&#x27;, or &#x27;react&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;declaration&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain">                   </span><span class="token comment">// 生成相应的 &#x27;.d.ts&#x27; 文件</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;sourceMap&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain">                     </span><span class="token comment">// 生成相应的 &#x27;.map&#x27; 文件</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;outFile&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;./&quot;</span><span class="token punctuation">,</span><span class="token plain">                       </span><span class="token comment">// 将输出文件合并为一个文件</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;outDir&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;./&quot;</span><span class="token punctuation">,</span><span class="token plain">                        </span><span class="token comment">// 指定输出目录</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;rootDir&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;./&quot;</span><span class="token punctuation">,</span><span class="token plain">                       </span><span class="token comment">// 用来控制输出目录结构 --outDir.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;removeComments&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain">                </span><span class="token comment">// 删除编译后的所有的注释</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;noEmit&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain">                        </span><span class="token comment">// 不生成输出文件</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;importHelpers&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain">                 </span><span class="token comment">// 从 tslib 导入辅助工具函数</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;isolatedModules&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain">               </span><span class="token comment">// 将每个文件做为单独的模块 （与 &#x27;ts.transpileModule&#x27; 类似）.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">/* 严格的类型检查选项 */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;strict&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain">                        </span><span class="token comment">// 启用所有严格类型检查选项</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;noImplicitAny&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain">                 </span><span class="token comment">// 在表达式和声明上有隐含的 any类型时报错</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;strictNullChecks&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain">              </span><span class="token comment">// 启用严格的 null 检查</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;noImplicitThis&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain">                </span><span class="token comment">// 当 this 表达式值为 any 类型的时候，生成一个错误</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;alwaysStrict&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain">                  </span><span class="token comment">// 以严格模式检查每个模块，并在每个文件里加入 &#x27;use strict&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">/* 额外的检查 */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;noUnusedLocals&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain">                </span><span class="token comment">// 有未使用的变量时，抛出错误</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;noUnusedParameters&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain">            </span><span class="token comment">// 有未使用的参数时，抛出错误</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;noImplicitReturns&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain">             </span><span class="token comment">// 并不是所有函数里的代码都有返回值时，抛出错误</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;noFallthroughCasesInSwitch&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain">    </span><span class="token comment">// 报告 switch 语句的 fallthrough 错误。（即，不允许 switch 的 case 语句贯穿）</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">/* 模块解析选项 */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;moduleResolution&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;node&quot;</span><span class="token punctuation">,</span><span class="token plain">            </span><span class="token comment">// 选择模块解析策略： &#x27;node&#x27; (Node.js) or &#x27;classic&#x27; (TypeScript pre-1.6)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;baseUrl&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;./&quot;</span><span class="token punctuation">,</span><span class="token plain">                       </span><span class="token comment">// 用于解析非相对模块名称的基目录</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;paths&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain">                           </span><span class="token comment">// 模块名到基于 baseUrl 的路径映射的列表</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;rootDirs&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain">                        </span><span class="token comment">// 根文件夹列表，其组合内容表示项目运行时的结构内容</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;typeRoots&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain">                       </span><span class="token comment">// 包含类型声明的文件列表</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;types&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain">                           </span><span class="token comment">// 需要包含的类型声明文件名列表</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;allowSyntheticDefaultImports&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain">  </span><span class="token comment">// 允许从没有设置默认导出的模块中默认导入。</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">/* Source Map Options */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;sourceRoot&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;./&quot;</span><span class="token punctuation">,</span><span class="token plain">                    </span><span class="token comment">// 指定调试器应该找到 TypeScript 文件而不是源文件的位置</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;mapRoot&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;./&quot;</span><span class="token punctuation">,</span><span class="token plain">                       </span><span class="token comment">// 指定调试器应该找到映射文件而不是生成文件的位置</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;inlineSourceMap&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain">               </span><span class="token comment">// 生成单个 soucemaps 文件，而不是将 sourcemaps 生成不同的文件</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;inlineSources&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain">                 </span><span class="token comment">// 将代码与 sourcemaps 生成到一个文件中，要求同时设置了 --inlineSourceMap 或 --sourceMap 属性</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">/* 其他选项 */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;experimentalDecorators&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain">        </span><span class="token comment">// 启用装饰器</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&quot;emitDecoratorMetadata&quot;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain">          </span><span class="token comment">// 为装饰器提供元数据的支持</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>参考：<a href="https://mp.weixin.qq.com/s/13Zq_NucuqRvg-CGgk6K2A" target="_blank" rel="noopener noreferrer">通俗易懂的 TypeScript 入门教程<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><p><a href="https://www.cnblogs.com/tangshiwei/p/12052494.html" target="_blank" rel="noopener noreferrer">TypeScript高级用法详解<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><p><a href="https://www.cnblogs.com/EnSnail/p/11233592.html" target="_blank" rel="noopener noreferrer">typescript中type和interface区别<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div><div class="__dumi-default-layout-footer-meta"><span data-updated-text="Last Update: ">8/8/2020, 12:13:23 AM</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="/umi.js"></script>
  </body>
</html>
